{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gorkem.Cadirci\\\\talep-sistemi\\\\src\\\\pages\\\\Inbox.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\nimport supabase from \"../supabaseClient\";\nimport \"./Inbox.css\";\n\n/** DB anahtar -> ekranda görünen */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_DISPLAY = {\n  Yeni: \"Yeni\",\n  Inceleme: \"İnceleme\",\n  Atandi: \"Atandı\",\n  Calisiliyor: \"Çalışılıyor\",\n  Beklemede: \"Beklemede\",\n  Tamamlandi: \"Tamamlandı\"\n};\nconst BOARD_COLUMNS = [{\n  key: \"Yeni\",\n  title: \"Yeni\"\n}, {\n  key: \"Inceleme\",\n  title: \"İnceleme\"\n}, {\n  key: \"Atandi\",\n  title: \"Atandı\"\n}, {\n  key: \"Calisiliyor\",\n  title: \"Çalışılıyor\"\n}, {\n  key: \"Beklemede\",\n  title: \"Beklemede\"\n}, {\n  key: \"Tamamlandi\",\n  title: \"Tamamlandı\"\n}];\nconst PILL_COLOR = {\n  P1: \"p1\",\n  P2: \"p2\",\n  P3: \"p3\"\n};\nconst PRIO = {\n  P1: 1,\n  P2: 2,\n  P3: 3\n};\nexport default function InboxModern() {\n  _s();\n  const navigate = useNavigate();\n  const me = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\");\n    } catch {\n      return {};\n    }\n  }, []);\n  const myEmail = (me === null || me === void 0 ? void 0 : me.email) || \"\";\n  const [view, setView] = useState(\"board\"); // \"board\" | \"list\"\n  const [sortMode, setSortMode] = useState(\"manual\"); // manual | priority | sla\n  const [q, setQ] = useState(\"\");\n  const [mineOnly, setMineOnly] = useState(false);\n  const [onlySLA, setOnlySLA] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  const [rows, setRows] = useState([]);\n  const [active, setActive] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem(\"auth_token\");\n    if (!token) navigate(\"/login\", {\n      replace: true\n    });\n  }, [navigate]);\n  useEffect(() => {\n    fetchData(); /* eslint-disable-next-line */\n  }, [mineOnly, onlySLA]);\n  async function fetchData() {\n    if (!myEmail) return;\n    setLoading(true);\n    setErr(\"\");\n    try {\n      const now = new Date();\n      let query = supabase.from(\"talepler\").select(`\n        id, baslik, durum, oncelik, talep_eden_email, atanan_email,\n        guncelleme_tarihi, bitis_tarihi, sla_son_tarih, aciklama,\n        kolon_sira, atanan_sira\n      `);\n\n      // DB tarafında temel sıralama; asıl sıralama client tarafında sortMode ile\n      if (mineOnly) {\n        query = query.eq(\"atanan_email\", myEmail).order(\"atanan_sira\", {\n          ascending: true,\n          nullsFirst: false\n        }).order(\"guncelleme_tarihi\", {\n          ascending: false\n        });\n      } else {\n        query = query.order(\"kolon_sira\", {\n          ascending: true,\n          nullsFirst: true\n        }).order(\"guncelleme_tarihi\", {\n          ascending: false\n        });\n      }\n      if (onlySLA) {\n        const t24 = new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString();\n        query = query.lt(\"sla_son_tarih\", t24).not(\"durum\", \"in\", [\"Tamamlandi\", \"Reddedildi\"]);\n      }\n      const {\n        data,\n        error\n      } = await query.limit(500);\n      if (error) throw error;\n      setRows(data || []);\n    } catch (e) {\n      console.error(e);\n      setErr(\"Kayıtlar çekilemedi.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  /* ---------- Sıralama yardımcıları ---------- */\n  function byManualCol(a, b) {\n    var _a$kolon_sira, _b$kolon_sira;\n    const ka = (_a$kolon_sira = a.kolon_sira) !== null && _a$kolon_sira !== void 0 ? _a$kolon_sira : 999999,\n      kb = (_b$kolon_sira = b.kolon_sira) !== null && _b$kolon_sira !== void 0 ? _b$kolon_sira : 999999;\n    if (ka !== kb) return ka - kb;\n    return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\n  }\n  function byManualMine(a, b) {\n    var _a$atanan_sira, _b$atanan_sira;\n    const ka = (_a$atanan_sira = a.atanan_sira) !== null && _a$atanan_sira !== void 0 ? _a$atanan_sira : 999999,\n      kb = (_b$atanan_sira = b.atanan_sira) !== null && _b$atanan_sira !== void 0 ? _b$atanan_sira : 999999;\n    if (ka !== kb) return ka - kb;\n    return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\n  }\n  function byPriority(a, b) {\n    var _PRIO$a$oncelik, _PRIO$b$oncelik;\n    const pa = (_PRIO$a$oncelik = PRIO[a.oncelik]) !== null && _PRIO$a$oncelik !== void 0 ? _PRIO$a$oncelik : 9,\n      pb = (_PRIO$b$oncelik = PRIO[b.oncelik]) !== null && _PRIO$b$oncelik !== void 0 ? _PRIO$b$oncelik : 9;\n    if (pa !== pb) return pa - pb;\n    const sa = a.sla_son_tarih ? new Date(a.sla_son_tarih).getTime() : Number.MAX_SAFE_INTEGER;\n    const sb = b.sla_son_tarih ? new Date(b.sla_son_tarih).getTime() : Number.MAX_SAFE_INTEGER;\n    if (sa !== sb) return sa - sb;\n    return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\n  }\n  function bySLA(a, b) {\n    var _PRIO$a$oncelik2, _PRIO$b$oncelik2;\n    const sa = a.sla_son_tarih ? new Date(a.sla_son_tarih).getTime() : Number.MAX_SAFE_INTEGER;\n    const sb = b.sla_son_tarih ? new Date(b.sla_son_tarih).getTime() : Number.MAX_SAFE_INTEGER;\n    if (sa !== sb) return sa - sb;\n    const pa = (_PRIO$a$oncelik2 = PRIO[a.oncelik]) !== null && _PRIO$a$oncelik2 !== void 0 ? _PRIO$a$oncelik2 : 9,\n      pb = (_PRIO$b$oncelik2 = PRIO[b.oncelik]) !== null && _PRIO$b$oncelik2 !== void 0 ? _PRIO$b$oncelik2 : 9;\n    if (pa !== pb) return pa - pb;\n    return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\n  }\n  function sortItems(arr, context) {\n    // context: \"board\" | \"list\"\n    if (sortMode === \"priority\") return [...arr].sort(byPriority);\n    if (sortMode === \"sla\") return [...arr].sort(bySLA);\n    // manual\n    if (context === \"board\") return [...arr].sort(byManualCol);\n    // list\n    return [...arr].sort(byManualMine);\n  }\n\n  /* ---------- helpers ---------- */\n  function groupByStatus(items) {\n    const map = Object.fromEntries(BOARD_COLUMNS.map(c => [c.key, []]));\n    items.forEach(i => {\n      (map[i.durum || \"Yeni\"] ??= []).push(i);\n    });\n    return map;\n  }\n  function recomputeAssigneeRanks(list) {\n    const byA = {};\n    list.forEach(r => {\n      if (!r.atanan_email) return;\n      (byA[r.atanan_email] ??= []).push(r);\n    });\n    Object.values(byA).forEach(arr => {\n      arr.forEach((r, idx) => {\n        r.atanan_sira = idx + 1;\n      });\n    });\n  }\n  async function persistOrder(updates) {\n    if (!(updates !== null && updates !== void 0 && updates.length)) return;\n    const payload = updates.map(u => ({\n      id: u.id,\n      ...(u.durum !== undefined ? {\n        durum: u.durum\n      } : {}),\n      ...(u.kolon_sira !== undefined ? {\n        kolon_sira: u.kolon_sira\n      } : {}),\n      ...(u.atanan_sira !== undefined ? {\n        atanan_sira: u.atanan_sira\n      } : {}),\n      guncelleme_tarihi: new Date().toISOString()\n    }));\n    const {\n      error\n    } = await supabase.from(\"talepler\").upsert(payload, {\n      onConflict: \"id\"\n    });\n    if (error) console.error(\"order save error\", error);\n  }\n\n  /* ---------- DnD: Kanban ---------- */\n  async function onBoardDragEnd(result) {\n    const {\n      source,\n      destination,\n      draggableId\n    } = result;\n    if (!destination) return;\n    const statusFrom = source.droppableId;\n    const statusTo = destination.droppableId;\n    const byStatus = groupByStatus([...rows]);\n    const idx = byStatus[statusFrom].findIndex(i => String(i.id) === String(draggableId));\n    if (idx === -1) return;\n    const item = byStatus[statusFrom][idx];\n    byStatus[statusFrom].splice(idx, 1);\n    byStatus[statusTo].splice(destination.index, 0, item);\n    item.durum = statusTo;\n    BOARD_COLUMNS.forEach(col => {\n      byStatus[col.key].forEach((it, i) => {\n        it.kolon_sira = i + 1;\n      });\n    });\n    const flattened = BOARD_COLUMNS.flatMap(c => byStatus[c.key]);\n    recomputeAssigneeRanks(flattened);\n    setRows(flattened); // optimistic\n    await persistOrder(flattened.map(({\n      id,\n      durum,\n      kolon_sira,\n      atanan_sira\n    }) => ({\n      id,\n      durum,\n      kolon_sira,\n      atanan_sira\n    })));\n  }\n\n  /* ---------- DnD: Liste (Bana atananlar + manual) ---------- */\n  async function onListDragEnd(result) {\n    const {\n      destination,\n      draggableId\n    } = result;\n    if (!destination) return;\n    if (!mineOnly || sortMode !== \"manual\") return;\n    const list = filtered.filter(r => r.atanan_email === myEmail).sort(byManualMine);\n    const from = list.findIndex(i => String(i.id) === String(draggableId));\n    if (from === -1) return;\n    const moved = list[from];\n    list.splice(from, 1);\n    list.splice(destination.index, 0, moved);\n    list.forEach((r, i) => {\n      r.atanan_sira = i + 1;\n    });\n    const newRows = rows.map(r => {\n      const hit = list.find(x => x.id === r.id);\n      return hit ? {\n        ...r,\n        atanan_sira: hit.atanan_sira\n      } : r;\n    });\n    setRows(newRows);\n    await persistOrder(list.map(({\n      id,\n      atanan_sira\n    }) => ({\n      id,\n      atanan_sira\n    })));\n  }\n\n  /* ---------- only action left: Üstlen ---------- */\n  async function takeOwnership(id) {\n    if (!myEmail) return;\n    const myColMax = rows.filter(r => r.durum === \"Inceleme\").reduce((m, r) => Math.max(m, r.kolon_sira || 0), 0) + 1;\n    const myQueueMax = rows.filter(r => r.atanan_email === myEmail).reduce((m, r) => Math.max(m, r.atanan_sira || 0), 0) + 1;\n    const {\n      error\n    } = await supabase.from(\"talepler\").update({\n      atanan_email: myEmail,\n      durum: \"Inceleme\",\n      kolon_sira: myColMax,\n      atanan_sira: myQueueMax,\n      guncelleme_tarihi: new Date().toISOString()\n    }).eq(\"id\", id);\n    if (!error) fetchData();\n  }\n  function handleLogout() {\n    localStorage.removeItem(\"auth_token\");\n    localStorage.removeItem(\"user_profile\");\n    navigate(\"/login\", {\n      replace: true\n    });\n  }\n\n  /* ---------- filter ---------- */\n  const filtered = rows.filter(r => {\n    if (!q) return true;\n    const text = `${r.id} ${r.baslik} ${r.talep_eden_email} ${r.atanan_email || \"\"}`.toLowerCase();\n    return text.includes(q.toLowerCase());\n  });\n  const grouped = groupByStatus(filtered);\n  const listDragEnabled = mineOnly && sortMode === \"manual\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mx\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: \"\\uD83E\\uDDED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bt\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Gelen Kutusu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: \"\\u0130\\u015F & S\\xFCre\\xE7 Geli\\u015Ftirme\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cmd\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seg\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `seg-btn ${view === \"board\" ? \"on\" : \"\"}`,\n            onClick: () => setView(\"board\"),\n            children: \"Kanban\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `seg-btn ${view === \"list\" ? \"on\" : \"\"}`,\n            onClick: () => setView(\"list\"),\n            children: \"Liste\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search\",\n            placeholder: \"Ara: #id, ba\\u015Fl\\u0131k, ki\\u015Fi\\u2026\",\n            value: q,\n            onChange: e => setQ(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toggles\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: mineOnly,\n              onChange: e => setMineOnly(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Bana atananlar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: onlySLA,\n              onChange: e => setOnlySLA(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"SLA (<24s)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sort-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"muted\",\n            style: {\n              marginRight: 6\n            },\n            children: \"S\\u0131ralama:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: sortMode,\n            onChange: e => setSortMode(e.target.value),\n            style: {\n              padding: 6,\n              borderRadius: 8,\n              border: \"1px solid var(--bd)\",\n              background: \"rgba(255,255,255,.04)\",\n              color: \"var(--text)\"\n            },\n            title: \"El ile: s\\xFCr\\xFCkle-b\\u0131rak | \\xD6ncelik: P1\\u2192P3, sonra SLA | SLA: en yak\\u0131n son tarih\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"manual\",\n              children: \"El ile (s\\xFCr\\xFCkle-b\\u0131rak)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"priority\",\n              children: \"\\xD6ncelik (P1\\u2192P3, sonra SLA)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"sla\",\n              children: \"SLA\\u2019ya kalan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/newrequest\",\n          className: \"btn primary\",\n          children: \"+ Yeni Talep\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chip\",\n          children: (me === null || me === void 0 ? void 0 : me.kullanici) || (me === null || me === void 0 ? void 0 : me.email)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: handleLogout,\n          children: \"\\xC7\\u0131k\\u0131\\u015F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-alert err\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 21\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-skel\",\n      children: \"Y\\xFCkleniyor\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }, this) : view === \"board\" ? /*#__PURE__*/_jsxDEV(DragDropContext, {\n      onDragEnd: onBoardDragEnd,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board\",\n        children: BOARD_COLUMNS.map(col => {\n          const items = grouped[col.key] || [];\n          const itemsSorted = sortItems(items, \"board\");\n          return /*#__PURE__*/_jsxDEV(Droppable, {\n            droppableId: col.key,\n            children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              ref: provided.innerRef,\n              ...provided.droppableProps,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-head\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `dot s-${slug(col.title)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: col.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"count\",\n                  children: itemsSorted.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-body\",\n                children: [itemsSorted.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-empty\",\n                  children: \"Hen\\xFCz kay\\u0131t yok\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 78\n                }, this), itemsSorted.map((item, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n                  draggableId: String(item.id),\n                  index: index,\n                  isDragDisabled: sortMode !== \"manual\",\n                  children: pp => /*#__PURE__*/_jsxDEV(\"div\", {\n                    ref: pp.innerRef,\n                    ...pp.draggableProps,\n                    ...pp.dragHandleProps,\n                    children: /*#__PURE__*/_jsxDEV(Card, {\n                      data: item,\n                      rank: index + 1,\n                      onOpen: () => setActive(item),\n                      onTake: () => takeOwnership(item.id),\n                      me: myEmail\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 65\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 61\n                  }, this)\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 53\n                }, this)), provided.placeholder]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 41\n            }, this)\n          }, col.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 17\n    }, this) :\n    /*#__PURE__*/\n    // LISTE GÖRÜNÜMÜ\n    _jsxDEV(DragDropContext, {\n      onDragEnd: onListDragEnd,\n      children: /*#__PURE__*/_jsxDEV(Droppable, {\n        droppableId: \"listMine\",\n        isDropDisabled: !listDragEnabled,\n        children: provided => {\n          const listSorted = sortItems(filtered, \"list\");\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"listv\",\n            ref: provided.innerRef,\n            ...provided.droppableProps,\n            children: [listSorted.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-empty\",\n              children: \"Kay\\u0131t bulunamad\\u0131\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 65\n            }, this), listSorted.map((r, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n              draggableId: String(r.id),\n              index: index,\n              isDragDisabled: !listDragEnabled,\n              children: pp => /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: pp.innerRef,\n                ...pp.draggableProps,\n                ...pp.dragHandleProps,\n                className: \"rowv\",\n                onClick: () => setActive(r),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `pill ${PILL_COLOR[r.oncelik] || \"p3\"}`,\n                  children: r.oncelik || \"P3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge s-${slug(STATUS_DISPLAY[r.durum] || \"Yeni\")}`,\n                  children: STATUS_DISPLAY[r.durum] || \"Yeni\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-title\",\n                  children: [\"#\", r.id, \" \\u2014 \", r.baslik]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-sub\",\n                  children: [r.talep_eden_email, \" \\u2192 \", r.atanan_email || \"—\", /*#__PURE__*/_jsxDEV(\"b\", {\n                    style: {\n                      marginLeft: 8,\n                      opacity: .8\n                    },\n                    children: [\"(S\\u0131ra: \", index + 1, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-time\",\n                  children: fmtTime(r.guncelleme_tarihi)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 49\n              }, this)\n            }, r.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 41\n            }, this)), provided.placeholder, !listDragEnabled && mineOnly && sortMode !== \"manual\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hint\",\n              style: {\n                padding: 8,\n                opacity: .7\n              },\n              children: [\"Bu g\\xF6r\\xFCn\\xFCmde s\\u0131ralama \\u201C\", sortMode === \"priority\" ? \"Öncelik\" : \"SLA\", \"\\u201D kural\\u0131na g\\xF6re yap\\u0131l\\u0131r.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 41\n            }, this), !mineOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hint\",\n              style: {\n                padding: 8,\n                opacity: .7\n              },\n              children: \"Kendi s\\u0131ran\\u0131 s\\xFCr\\xFCkleyerek d\\xFCzenlemek i\\xE7in \\u201CBana atananlar\\u201D\\u0131 i\\u015Faretle.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 33\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 17\n    }, this), active && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drawer\",\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawer-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"drawer-close\",\n          onClick: () => setActive(null),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawer-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `pill ${PILL_COLOR[active.oncelik] || \"p3\"}`,\n            children: active.oncelik || \"P3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `badge s-${slug(STATUS_DISPLAY[active.durum] || \"Yeni\")}`,\n            children: STATUS_DISPLAY[active.durum] || \"Yeni\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"#\", active.id, \" \\u2014 \", active.baslik]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-sub\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0130steyen: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: active.talep_eden_email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \\xB7 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Atanan: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: active.atanan_email || \"—\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \\xB7 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"G\\xFCncellendi: \", fmtTime(active.guncelleme_tarihi)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawer-body\",\n          children: [/*#__PURE__*/_jsxDEV(Section, {\n            title: \"A\\xE7\\u0131klama\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"desc\",\n              children: active.aciklama || \"Açıklama girilmemiş.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 29\n          }, this), !active.atanan_email && /*#__PURE__*/_jsxDEV(Section, {\n            title: \"Atama\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn primary\",\n              onClick: () => {\n                setActive(null);\n                takeOwnership(active.id);\n              },\n              children: \"\\xDCstlen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Section, {\n            title: \"Zaman\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"kv\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Hedef Tarih:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: active.bitis_tarihi ? fmtDate(active.bitis_tarihi) : \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 67\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"SLA Son:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: active.sla_son_tarih ? fmtDate(active.sla_son_tarih) : \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawer-backdrop\",\n        onClick: () => setActive(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 9\n  }, this);\n}\n\n/* components */\n_s(InboxModern, \"f6mMZXfuRFtUne5FtO9mzi1rqEM=\", false, function () {\n  return [useNavigate];\n});\n_c = InboxModern;\nfunction Card({\n  data,\n  rank,\n  onOpen,\n  onTake,\n  me\n}) {\n  const mine = data.atanan_email && data.atanan_email === me;\n  const slaSoon = data.sla_son_tarih && new Date(data.sla_son_tarih).getTime() - Date.now() < 24 * 60 * 60 * 1000;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `card ${mine ? \"mine\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `pill ${PILL_COLOR[data.oncelik] || \"p3\"}`,\n        children: data.oncelik || \"P3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `badge s-${slug(STATUS_DISPLAY[data.durum] || \"Yeni\")}`,\n        children: STATUS_DISPLAY[data.durum] || \"Yeni\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 17\n      }, this), slaSoon && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sla\",\n        children: \"SLA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        title: \"Bu kolondaki/listedeki s\\u0131ra\",\n        style: {\n          marginLeft: \"auto\",\n          fontSize: 12,\n          opacity: .75\n        },\n        children: [\"#\", rank]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"icn\",\n        onClick: onOpen,\n        title: \"Detay\",\n        children: \"\\u22EF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-title\",\n      children: [\"#\", data.id, \" \\u2014 \", data.baslik]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-sub\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.talep_eden_email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.atanan_email || \"—\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-foot\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"time\",\n        children: fmtTime(data.guncelleme_tarihi)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"act\",\n        children: !data.atanan_email && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn ghost xs\",\n          onClick: onTake,\n          children: \"\\xDCstlen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 449,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Card;\nfunction Section({\n  title,\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"sec\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sec-h\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sec-b\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 477,\n    columnNumber: 9\n  }, this);\n}\n\n/* utils */\n_c3 = Section;\nfunction slug(s) {\n  return (s || \"\").toLowerCase().replaceAll(\"ı\", \"i\").replaceAll(\"ğ\", \"g\").replaceAll(\"ş\", \"s\").replaceAll(\"ö\", \"o\").replaceAll(\"ç\", \"c\").replaceAll(\"ü\", \"u\").replace(/\\s+/g, \"-\");\n}\nfunction fmtTime(ts) {\n  try {\n    return new Date(ts).toLocaleString();\n  } catch {\n    return \"—\";\n  }\n}\nfunction fmtDate(ts) {\n  try {\n    return new Date(ts).toLocaleDateString();\n  } catch {\n    return \"—\";\n  }\n}\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"InboxModern\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"Section\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","Link","DragDropContext","Droppable","Draggable","supabase","jsxDEV","_jsxDEV","STATUS_DISPLAY","Yeni","Inceleme","Atandi","Calisiliyor","Beklemede","Tamamlandi","BOARD_COLUMNS","key","title","PILL_COLOR","P1","P2","P3","PRIO","InboxModern","_s","navigate","me","JSON","parse","localStorage","getItem","myEmail","email","view","setView","sortMode","setSortMode","q","setQ","mineOnly","setMineOnly","onlySLA","setOnlySLA","loading","setLoading","err","setErr","rows","setRows","active","setActive","token","replace","fetchData","now","Date","query","from","select","eq","order","ascending","nullsFirst","t24","getTime","toISOString","lt","not","data","error","limit","e","console","byManualCol","a","b","_a$kolon_sira","_b$kolon_sira","ka","kolon_sira","kb","guncelleme_tarihi","byManualMine","_a$atanan_sira","_b$atanan_sira","atanan_sira","byPriority","_PRIO$a$oncelik","_PRIO$b$oncelik","pa","oncelik","pb","sa","sla_son_tarih","Number","MAX_SAFE_INTEGER","sb","bySLA","_PRIO$a$oncelik2","_PRIO$b$oncelik2","sortItems","arr","context","sort","groupByStatus","items","map","Object","fromEntries","c","forEach","i","durum","push","recomputeAssigneeRanks","list","byA","r","atanan_email","values","idx","persistOrder","updates","length","payload","u","id","undefined","upsert","onConflict","onBoardDragEnd","result","source","destination","draggableId","statusFrom","droppableId","statusTo","byStatus","findIndex","String","item","splice","index","col","it","flattened","flatMap","onListDragEnd","filtered","filter","moved","newRows","hit","find","x","takeOwnership","myColMax","reduce","m","Math","max","myQueueMax","update","handleLogout","removeItem","text","baslik","talep_eden_email","toLowerCase","includes","grouped","listDragEnabled","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","value","onChange","target","type","checked","style","marginRight","padding","borderRadius","border","background","color","to","kullanici","onDragEnd","itemsSorted","provided","ref","innerRef","droppableProps","slug","isDragDisabled","pp","draggableProps","dragHandleProps","Card","rank","onOpen","onTake","isDropDisabled","listSorted","marginLeft","opacity","fmtTime","role","Section","aciklama","bitis_tarihi","fmtDate","_c","mine","slaSoon","fontSize","_c2","_c3","s","replaceAll","ts","toLocaleString","toLocaleDateString","$RefreshReg$"],"sources":["C:/Users/Gorkem.Cadirci/talep-sistemi/src/pages/Inbox.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\r\nimport supabase from \"../supabaseClient\";\r\nimport \"./Inbox.css\";\r\n\r\n/** DB anahtar -> ekranda görünen */\r\nconst STATUS_DISPLAY = {\r\n    Yeni: \"Yeni\",\r\n    Inceleme: \"İnceleme\",\r\n    Atandi: \"Atandı\",\r\n    Calisiliyor: \"Çalışılıyor\",\r\n    Beklemede: \"Beklemede\",\r\n    Tamamlandi: \"Tamamlandı\",\r\n};\r\n\r\nconst BOARD_COLUMNS = [\r\n    { key: \"Yeni\", title: \"Yeni\" },\r\n    { key: \"Inceleme\", title: \"İnceleme\" },\r\n    { key: \"Atandi\", title: \"Atandı\" },\r\n    { key: \"Calisiliyor\", title: \"Çalışılıyor\" },\r\n    { key: \"Beklemede\", title: \"Beklemede\" },\r\n    { key: \"Tamamlandi\", title: \"Tamamlandı\" },\r\n];\r\n\r\nconst PILL_COLOR = { P1: \"p1\", P2: \"p2\", P3: \"p3\" };\r\nconst PRIO = { P1: 1, P2: 2, P3: 3 };\r\n\r\nexport default function InboxModern() {\r\n    const navigate = useNavigate();\r\n\r\n    const me = useMemo(() => {\r\n        try { return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\"); }\r\n        catch { return {}; }\r\n    }, []);\r\n    const myEmail = me?.email || \"\";\r\n\r\n    const [view, setView] = useState(\"board\"); // \"board\" | \"list\"\r\n    const [sortMode, setSortMode] = useState(\"manual\"); // manual | priority | sla\r\n    const [q, setQ] = useState(\"\");\r\n    const [mineOnly, setMineOnly] = useState(false);\r\n    const [onlySLA, setOnlySLA] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [err, setErr] = useState(\"\");\r\n    const [rows, setRows] = useState([]);\r\n    const [active, setActive] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"auth_token\");\r\n        if (!token) navigate(\"/login\", { replace: true });\r\n    }, [navigate]);\r\n\r\n    useEffect(() => { fetchData(); /* eslint-disable-next-line */ }, [mineOnly, onlySLA]);\r\n\r\n    async function fetchData() {\r\n        if (!myEmail) return;\r\n        setLoading(true); setErr(\"\");\r\n        try {\r\n            const now = new Date();\r\n\r\n            let query = supabase.from(\"talepler\").select(`\r\n        id, baslik, durum, oncelik, talep_eden_email, atanan_email,\r\n        guncelleme_tarihi, bitis_tarihi, sla_son_tarih, aciklama,\r\n        kolon_sira, atanan_sira\r\n      `);\r\n\r\n            // DB tarafında temel sıralama; asıl sıralama client tarafında sortMode ile\r\n            if (mineOnly) {\r\n                query = query.eq(\"atanan_email\", myEmail)\r\n                    .order(\"atanan_sira\", { ascending: true, nullsFirst: false })\r\n                    .order(\"guncelleme_tarihi\", { ascending: false });\r\n            } else {\r\n                query = query.order(\"kolon_sira\", { ascending: true, nullsFirst: true })\r\n                    .order(\"guncelleme_tarihi\", { ascending: false });\r\n            }\r\n\r\n            if (onlySLA) {\r\n                const t24 = new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString();\r\n                query = query.lt(\"sla_son_tarih\", t24).not(\"durum\", \"in\", [\"Tamamlandi\", \"Reddedildi\"]);\r\n            }\r\n\r\n            const { data, error } = await query.limit(500);\r\n            if (error) throw error;\r\n            setRows(data || []);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setErr(\"Kayıtlar çekilemedi.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    /* ---------- Sıralama yardımcıları ---------- */\r\n    function byManualCol(a, b) {\r\n        const ka = a.kolon_sira ?? 999999, kb = b.kolon_sira ?? 999999;\r\n        if (ka !== kb) return ka - kb;\r\n        return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\r\n    }\r\n    function byManualMine(a, b) {\r\n        const ka = a.atanan_sira ?? 999999, kb = b.atanan_sira ?? 999999;\r\n        if (ka !== kb) return ka - kb;\r\n        return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\r\n    }\r\n    function byPriority(a, b) {\r\n        const pa = PRIO[a.oncelik] ?? 9, pb = PRIO[b.oncelik] ?? 9;\r\n        if (pa !== pb) return pa - pb;\r\n        const sa = a.sla_son_tarih ? new Date(a.sla_son_tarih).getTime() : Number.MAX_SAFE_INTEGER;\r\n        const sb = b.sla_son_tarih ? new Date(b.sla_son_tarih).getTime() : Number.MAX_SAFE_INTEGER;\r\n        if (sa !== sb) return sa - sb;\r\n        return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\r\n    }\r\n    function bySLA(a, b) {\r\n        const sa = a.sla_son_tarih ? new Date(a.sla_son_tarih).getTime() : Number.MAX_SAFE_INTEGER;\r\n        const sb = b.sla_son_tarih ? new Date(b.sla_son_tarih).getTime() : Number.MAX_SAFE_INTEGER;\r\n        if (sa !== sb) return sa - sb;\r\n        const pa = PRIO[a.oncelik] ?? 9, pb = PRIO[b.oncelik] ?? 9;\r\n        if (pa !== pb) return pa - pb;\r\n        return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\r\n    }\r\n\r\n    function sortItems(arr, context) {\r\n        // context: \"board\" | \"list\"\r\n        if (sortMode === \"priority\") return [...arr].sort(byPriority);\r\n        if (sortMode === \"sla\") return [...arr].sort(bySLA);\r\n        // manual\r\n        if (context === \"board\") return [...arr].sort(byManualCol);\r\n        // list\r\n        return [...arr].sort(byManualMine);\r\n    }\r\n\r\n    /* ---------- helpers ---------- */\r\n    function groupByStatus(items) {\r\n        const map = Object.fromEntries(BOARD_COLUMNS.map(c => [c.key, []]));\r\n        items.forEach(i => { (map[i.durum || \"Yeni\"] ??= []).push(i); });\r\n        return map;\r\n    }\r\n\r\n    function recomputeAssigneeRanks(list) {\r\n        const byA = {};\r\n        list.forEach(r => {\r\n            if (!r.atanan_email) return;\r\n            (byA[r.atanan_email] ??= []).push(r);\r\n        });\r\n        Object.values(byA).forEach(arr => {\r\n            arr.forEach((r, idx) => { r.atanan_sira = idx + 1; });\r\n        });\r\n    }\r\n\r\n    async function persistOrder(updates) {\r\n        if (!updates?.length) return;\r\n        const payload = updates.map(u => ({\r\n            id: u.id,\r\n            ...(u.durum !== undefined ? { durum: u.durum } : {}),\r\n            ...(u.kolon_sira !== undefined ? { kolon_sira: u.kolon_sira } : {}),\r\n            ...(u.atanan_sira !== undefined ? { atanan_sira: u.atanan_sira } : {}),\r\n            guncelleme_tarihi: new Date().toISOString(),\r\n        }));\r\n        const { error } = await supabase.from(\"talepler\").upsert(payload, { onConflict: \"id\" });\r\n        if (error) console.error(\"order save error\", error);\r\n    }\r\n\r\n    /* ---------- DnD: Kanban ---------- */\r\n    async function onBoardDragEnd(result) {\r\n        const { source, destination, draggableId } = result;\r\n        if (!destination) return;\r\n\r\n        const statusFrom = source.droppableId;\r\n        const statusTo = destination.droppableId;\r\n\r\n        const byStatus = groupByStatus([...rows]);\r\n        const idx = byStatus[statusFrom].findIndex(i => String(i.id) === String(draggableId));\r\n        if (idx === -1) return;\r\n\r\n        const item = byStatus[statusFrom][idx];\r\n        byStatus[statusFrom].splice(idx, 1);\r\n        byStatus[statusTo].splice(destination.index, 0, item);\r\n        item.durum = statusTo;\r\n\r\n        BOARD_COLUMNS.forEach(col => {\r\n            byStatus[col.key].forEach((it, i) => { it.kolon_sira = i + 1; });\r\n        });\r\n\r\n        const flattened = BOARD_COLUMNS.flatMap(c => byStatus[c.key]);\r\n        recomputeAssigneeRanks(flattened);\r\n\r\n        setRows(flattened); // optimistic\r\n        await persistOrder(flattened.map(({ id, durum, kolon_sira, atanan_sira }) => ({ id, durum, kolon_sira, atanan_sira })));\r\n    }\r\n\r\n    /* ---------- DnD: Liste (Bana atananlar + manual) ---------- */\r\n    async function onListDragEnd(result) {\r\n        const { destination, draggableId } = result;\r\n        if (!destination) return;\r\n        if (!mineOnly || sortMode !== \"manual\") return;\r\n\r\n        const list = filtered.filter(r => r.atanan_email === myEmail).sort(byManualMine);\r\n        const from = list.findIndex(i => String(i.id) === String(draggableId));\r\n        if (from === -1) return;\r\n\r\n        const moved = list[from];\r\n        list.splice(from, 1);\r\n        list.splice(destination.index, 0, moved);\r\n\r\n        list.forEach((r, i) => { r.atanan_sira = i + 1; });\r\n\r\n        const newRows = rows.map(r => {\r\n            const hit = list.find(x => x.id === r.id);\r\n            return hit ? { ...r, atanan_sira: hit.atanan_sira } : r;\r\n        });\r\n        setRows(newRows);\r\n\r\n        await persistOrder(list.map(({ id, atanan_sira }) => ({ id, atanan_sira })));\r\n    }\r\n\r\n    /* ---------- only action left: Üstlen ---------- */\r\n    async function takeOwnership(id) {\r\n        if (!myEmail) return;\r\n        const myColMax = rows.filter(r => r.durum === \"Inceleme\")\r\n            .reduce((m, r) => Math.max(m, r.kolon_sira || 0), 0) + 1;\r\n        const myQueueMax = rows.filter(r => r.atanan_email === myEmail)\r\n            .reduce((m, r) => Math.max(m, r.atanan_sira || 0), 0) + 1;\r\n\r\n        const { error } = await supabase.from(\"talepler\").update({\r\n            atanan_email: myEmail,\r\n            durum: \"Inceleme\",\r\n            kolon_sira: myColMax,\r\n            atanan_sira: myQueueMax,\r\n            guncelleme_tarihi: new Date().toISOString()\r\n        }).eq(\"id\", id);\r\n        if (!error) fetchData();\r\n    }\r\n\r\n    function handleLogout() {\r\n        localStorage.removeItem(\"auth_token\");\r\n        localStorage.removeItem(\"user_profile\");\r\n        navigate(\"/login\", { replace: true });\r\n    }\r\n\r\n    /* ---------- filter ---------- */\r\n    const filtered = rows.filter(r => {\r\n        if (!q) return true;\r\n        const text = `${r.id} ${r.baslik} ${r.talep_eden_email} ${r.atanan_email || \"\"}`.toLowerCase();\r\n        return text.includes(q.toLowerCase());\r\n    });\r\n\r\n    const grouped = groupByStatus(filtered);\r\n\r\n    const listDragEnabled = mineOnly && sortMode === \"manual\";\r\n\r\n    return (\r\n        <div className=\"mx\">\r\n            {/* Command bar */}\r\n            <div className=\"mx-top\">\r\n                <div className=\"brand\">\r\n                    <div className=\"logo\">🧭</div>\r\n                    <div className=\"bt\">\r\n                        <h1>Gelen Kutusu</h1>\r\n                        <span className=\"muted\">İş & Süreç Geliştirme</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"cmd\">\r\n                    <div className=\"seg\">\r\n                        <button className={`seg-btn ${view === \"board\" ? \"on\" : \"\"}`} onClick={() => setView(\"board\")}>Kanban</button>\r\n                        <button className={`seg-btn ${view === \"list\" ? \"on\" : \"\"}`} onClick={() => setView(\"list\")}>Liste</button>\r\n                    </div>\r\n\r\n                    <div className=\"search-wrap\">\r\n                        <input className=\"search\" placeholder=\"Ara: #id, başlık, kişi…\" value={q} onChange={(e) => setQ(e.target.value)} />\r\n                    </div>\r\n\r\n                    <div className=\"toggles\">\r\n                        <label className=\"toggle\">\r\n                            <input type=\"checkbox\" checked={mineOnly} onChange={e => setMineOnly(e.target.checked)} />\r\n                            <span>Bana atananlar</span>\r\n                        </label>\r\n                        <label className=\"toggle\">\r\n                            <input type=\"checkbox\" checked={onlySLA} onChange={e => setOnlySLA(e.target.checked)} />\r\n                            <span>SLA (&lt;24s)</span>\r\n                        </label>\r\n                    </div>\r\n\r\n                    {/* Sıralama seçici */}\r\n                    <div className=\"sort-wrap\">\r\n                        <label className=\"muted\" style={{ marginRight: 6 }}>Sıralama:</label>\r\n                        <select\r\n                            value={sortMode}\r\n                            onChange={(e) => setSortMode(e.target.value)}\r\n                            style={{ padding: 6, borderRadius: 8, border: \"1px solid var(--bd)\", background: \"rgba(255,255,255,.04)\", color: \"var(--text)\" }}\r\n                            title=\"El ile: sürükle-bırak | Öncelik: P1→P3, sonra SLA | SLA: en yakın son tarih\"\r\n                        >\r\n                            <option value=\"manual\">El ile (sürükle-bırak)</option>\r\n                            <option value=\"priority\">Öncelik (P1→P3, sonra SLA)</option>\r\n                            <option value=\"sla\">SLA’ya kalan</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <Link to=\"/newrequest\" className=\"btn primary\">+ Yeni Talep</Link>\r\n                    <div className=\"chip\">{me?.kullanici || me?.email}</div>\r\n                    <button className=\"btn danger\" onClick={handleLogout}>Çıkış</button>\r\n                </div>\r\n            </div>\r\n\r\n            {err && <div className=\"mx-alert err\">{err}</div>}\r\n\r\n            {loading ? (\r\n                <div className=\"mx-skel\">Yükleniyor…</div>\r\n            ) : view === \"board\" ? (\r\n                <DragDropContext onDragEnd={onBoardDragEnd}>\r\n                    <div className=\"board\">\r\n                        {BOARD_COLUMNS.map(col => {\r\n                            const items = grouped[col.key] || [];\r\n                            const itemsSorted = sortItems(items, \"board\");\r\n                            return (\r\n                                <Droppable droppableId={col.key} key={col.key}>\r\n                                    {(provided) => (\r\n                                        <div className=\"col\" ref={provided.innerRef} {...provided.droppableProps}>\r\n                                            <div className=\"col-head\">\r\n                                                <span className={`dot s-${slug(col.title)}`}></span>\r\n                                                <h3>{col.title}</h3>\r\n                                                <span className=\"count\">{itemsSorted.length}</span>\r\n                                            </div>\r\n                                            <div className=\"col-body\">\r\n                                                {itemsSorted.length === 0 && <div className=\"col-empty\">Henüz kayıt yok</div>}\r\n                                                {itemsSorted.map((item, index) => (\r\n                                                    <Draggable draggableId={String(item.id)} index={index} key={item.id} isDragDisabled={sortMode !== \"manual\"}>\r\n                                                        {(pp) => (\r\n                                                            <div ref={pp.innerRef} {...pp.draggableProps} {...pp.dragHandleProps}>\r\n                                                                <Card\r\n                                                                    data={item}\r\n                                                                    rank={index + 1}\r\n                                                                    onOpen={() => setActive(item)}\r\n                                                                    onTake={() => takeOwnership(item.id)}\r\n                                                                    me={myEmail}\r\n                                                                />\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </Draggable>\r\n                                                ))}\r\n                                                {provided.placeholder}\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </Droppable>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </DragDropContext>\r\n            ) : (\r\n                // LISTE GÖRÜNÜMÜ\r\n                <DragDropContext onDragEnd={onListDragEnd}>\r\n                    <Droppable droppableId=\"listMine\" isDropDisabled={!listDragEnabled}>\r\n                        {(provided) => {\r\n                            const listSorted = sortItems(filtered, \"list\");\r\n                            return (\r\n                                <div className=\"listv\" ref={provided.innerRef} {...provided.droppableProps}>\r\n                                    {listSorted.length === 0 && <div className=\"col-empty\">Kayıt bulunamadı</div>}\r\n                                    {listSorted.map((r, index) => (\r\n                                        <Draggable draggableId={String(r.id)} index={index} key={r.id} isDragDisabled={!listDragEnabled}>\r\n                                            {(pp) => (\r\n                                                <div\r\n                                                    ref={pp.innerRef} {...pp.draggableProps} {...pp.dragHandleProps}\r\n                                                    className=\"rowv\" onClick={() => setActive(r)}\r\n                                                >\r\n                                                    <span className={`pill ${PILL_COLOR[r.oncelik] || \"p3\"}`}>{r.oncelik || \"P3\"}</span>\r\n                                                    <span className={`badge s-${slug(STATUS_DISPLAY[r.durum] || \"Yeni\")}`}>{STATUS_DISPLAY[r.durum] || \"Yeni\"}</span>\r\n                                                    <span className=\"r-title\">#{r.id} — {r.baslik}</span>\r\n                                                    <span className=\"r-sub\">\r\n                                                        {r.talep_eden_email} → {r.atanan_email || \"—\"}\r\n                                                        <b style={{ marginLeft: 8, opacity: .8 }}>(Sıra: {index + 1})</b>\r\n                                                    </span>\r\n                                                    <span className=\"r-time\">{fmtTime(r.guncelleme_tarihi)}</span>\r\n                                                </div>\r\n                                            )}\r\n                                        </Draggable>\r\n                                    ))}\r\n                                    {provided.placeholder}\r\n                                    {!listDragEnabled && mineOnly && sortMode !== \"manual\" && (\r\n                                        <div className=\"hint\" style={{ padding: 8, opacity: .7 }}>\r\n                                            Bu görünümde sıralama “{sortMode === \"priority\" ? \"Öncelik\" : \"SLA\"}” kuralına göre yapılır.\r\n                                        </div>\r\n                                    )}\r\n                                    {!mineOnly && (\r\n                                        <div className=\"hint\" style={{ padding: 8, opacity: .7 }}>\r\n                                            Kendi sıranı sürükleyerek düzenlemek için “Bana atananlar”ı işaretle.\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            );\r\n                        }}\r\n                    </Droppable>\r\n                </DragDropContext>\r\n            )}\r\n\r\n            {/* Detay çekmecesi */}\r\n            {active && (\r\n                <div className=\"drawer\" role=\"dialog\" aria-modal=\"true\">\r\n                    <div className=\"drawer-panel\">\r\n                        <button className=\"drawer-close\" onClick={() => setActive(null)}>×</button>\r\n\r\n                        <div className=\"drawer-top\">\r\n                            <span className={`pill ${PILL_COLOR[active.oncelik] || \"p3\"}`}>{active.oncelik || \"P3\"}</span>\r\n                            <span className={`badge s-${slug(STATUS_DISPLAY[active.durum] || \"Yeni\")}`}>{STATUS_DISPLAY[active.durum] || \"Yeni\"}</span>\r\n                            <h2>#{active.id} — {active.baslik}</h2>\r\n                            <div className=\"d-sub\">\r\n                                <span>İsteyen: <b>{active.talep_eden_email}</b></span>\r\n                                <span> · </span>\r\n                                <span>Atanan: <b>{active.atanan_email || \"—\"}</b></span>\r\n                                <span> · </span>\r\n                                <span>Güncellendi: {fmtTime(active.guncelleme_tarihi)}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"drawer-body\">\r\n                            <Section title=\"Açıklama\">\r\n                                <p className=\"desc\">{active.aciklama || \"Açıklama girilmemiş.\"}</p>\r\n                            </Section>\r\n\r\n                            {/* Sadece Üstlen (atanmamışsa) */}\r\n                            {!active.atanan_email && (\r\n                                <Section title=\"Atama\">\r\n                                    <button className=\"btn primary\" onClick={() => { setActive(null); takeOwnership(active.id); }}>\r\n                                        Üstlen\r\n                                    </button>\r\n                                </Section>\r\n                            )}\r\n\r\n                            <Section title=\"Zaman\">\r\n                                <div className=\"kv\">\r\n                                    <div><span>Hedef Tarih:</span><b>{active.bitis_tarihi ? fmtDate(active.bitis_tarihi) : \"—\"}</b></div>\r\n                                    <div><span>SLA Son:</span><b>{active.sla_son_tarih ? fmtDate(active.sla_son_tarih) : \"—\"}</b></div>\r\n                                </div>\r\n                            </Section>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"drawer-backdrop\" onClick={() => setActive(null)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n/* components */\r\nfunction Card({ data, rank, onOpen, onTake, me }) {\r\n    const mine = data.atanan_email && data.atanan_email === me;\r\n    const slaSoon = data.sla_son_tarih && new Date(data.sla_son_tarih).getTime() - Date.now() < 24 * 60 * 60 * 1000;\r\n\r\n    return (\r\n        <div className={`card ${mine ? \"mine\" : \"\"}`}>\r\n            <div className=\"c-top\">\r\n                <span className={`pill ${PILL_COLOR[data.oncelik] || \"p3\"}`}>{data.oncelik || \"P3\"}</span>\r\n                <span className={`badge s-${slug(STATUS_DISPLAY[data.durum] || \"Yeni\")}`}>{STATUS_DISPLAY[data.durum] || \"Yeni\"}</span>\r\n                {slaSoon && <span className=\"sla\">SLA</span>}\r\n                <span title=\"Bu kolondaki/listedeki sıra\" style={{ marginLeft: \"auto\", fontSize: 12, opacity: .75 }}>#{rank}</span>\r\n                <button className=\"icn\" onClick={onOpen} title=\"Detay\">⋯</button>\r\n            </div>\r\n\r\n            <div className=\"c-title\">#{data.id} — {data.baslik}</div>\r\n            <div className=\"c-sub\">\r\n                <span>{data.talep_eden_email}</span>\r\n                <span>→</span>\r\n                <span>{data.atanan_email || \"—\"}</span>\r\n            </div>\r\n\r\n            <div className=\"c-foot\">\r\n                <span className=\"time\">{fmtTime(data.guncelleme_tarihi)}</span>\r\n                <div className=\"act\">\r\n                    {!data.atanan_email && <button className=\"btn ghost xs\" onClick={onTake}>Üstlen</button>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Section({ title, children }) {\r\n    return (\r\n        <section className=\"sec\">\r\n            <div className=\"sec-h\"><h4>{title}</h4></div>\r\n            <div className=\"sec-b\">{children}</div>\r\n        </section>\r\n    );\r\n}\r\n\r\n/* utils */\r\nfunction slug(s) { return (s || \"\").toLowerCase().replaceAll(\"ı\", \"i\").replaceAll(\"ğ\", \"g\").replaceAll(\"ş\", \"s\").replaceAll(\"ö\", \"o\").replaceAll(\"ç\", \"c\").replaceAll(\"ü\", \"u\").replace(/\\s+/g, \"-\"); }\r\nfunction fmtTime(ts) { try { return new Date(ts).toLocaleString(); } catch { return \"—\"; } }\r\nfunction fmtDate(ts) { try { return new Date(ts).toLocaleDateString(); } catch { return \"—\"; } }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}