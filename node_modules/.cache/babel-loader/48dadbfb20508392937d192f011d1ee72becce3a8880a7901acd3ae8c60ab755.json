{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gorkem.Cadirci\\\\talep-sistemi\\\\src\\\\pages\\\\Inbox.js\",\n  _s = $RefreshSig$();\n// src/pages/Inbox.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\nimport supabase from \"../supabaseClient\";\nimport \"./Inbox.css\";\n\n/** DB anahtar -> ekranda görünen */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_DISPLAY = {\n  Yeni: \"Yeni\",\n  Inceleme: \"İnceleme\",\n  Atandi: \"Atandı\",\n  Calisiliyor: \"Çalışılıyor\",\n  Beklemede: \"Beklemede\",\n  Tamamlandi: \"Tamamlandı\"\n};\nconst BOARD_COLUMNS = [{\n  key: \"Yeni\",\n  title: \"Yeni\"\n}, {\n  key: \"Inceleme\",\n  title: \"İnceleme\"\n}, {\n  key: \"Atandi\",\n  title: \"Atandı\"\n}, {\n  key: \"Calisiliyor\",\n  title: \"Çalışılıyor\"\n}, {\n  key: \"Beklemede\",\n  title: \"Beklemede\"\n}, {\n  key: \"Tamamlandi\",\n  title: \"Tamamlandı\"\n}];\nconst PILL_COLOR = {\n  P1: \"p1\",\n  P2: \"p2\",\n  P3: \"p3\"\n};\nexport default function InboxModern() {\n  _s();\n  const navigate = useNavigate();\n\n  // --- auth/profile\n  const me = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\");\n    } catch {\n      return {};\n    }\n  }, []);\n  const myEmail = (me === null || me === void 0 ? void 0 : me.email) || \"\";\n\n  // --- ui\n  const [view, setView] = useState(\"board\"); // \"board\" | \"list\"\n  const [q, setQ] = useState(\"\");\n  const [mineOnly, setMineOnly] = useState(false);\n  const [onlySLA, setOnlySLA] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  const [rows, setRows] = useState([]);\n  const [active, setActive] = useState(null);\n\n  // --- throttle kuyruk\n  const flushTimer = useRef(null);\n  const queued = useRef(new Map()); // id -> patch\n\n  // --- guard\n  useEffect(() => {\n    const token = localStorage.getItem(\"auth_token\");\n    if (!token) navigate(\"/login\", {\n      replace: true\n    });\n  }, [navigate]);\n\n  // --- realtime: herkes canlı görsün\n  useEffect(() => {\n    const ch = supabase.channel(\"realtime:talepler\").on(\"postgres_changes\", {\n      event: \"*\",\n      schema: \"public\",\n      table: \"talepler\"\n    }, payload => {\n      setRows(prev => {\n        var _payload$new;\n        const row = (_payload$new = payload.new) !== null && _payload$new !== void 0 ? _payload$new : payload.old;\n        if (!(row !== null && row !== void 0 && row.id)) return prev;\n        if (payload.eventType === \"DELETE\") {\n          return prev.filter(x => x.id !== row.id);\n        }\n        const i = prev.findIndex(x => x.id === row.id);\n        if (i >= 0) {\n          const next = [...prev];\n          next[i] = {\n            ...next[i],\n            ...payload.new\n          };\n          return next;\n        }\n        return [...prev, payload.new];\n      });\n    }).subscribe();\n    return () => {\n      try {\n        supabase.removeChannel(ch);\n      } catch {}\n    };\n  }, []);\n\n  // --- data\n  useEffect(() => {\n    fetchData(); /* eslint-disable-next-line */\n  }, [mineOnly, onlySLA]);\n  async function fetchData() {\n    if (!myEmail) return;\n    setLoading(true);\n    setErr(\"\");\n    try {\n      const now = new Date();\n      let query = supabase.from(\"talepler\").select(`\n        id, baslik, durum, oncelik, talep_eden_email, atanan_email,\n        guncelleme_tarihi, bitis_tarihi, sla_son_tarih, aciklama,\n        kolon_sira, atanan_sira\n      `);\n      if (mineOnly) {\n        // Bana atananlar görünümünde kuyruğu DB'den atanan_sira'ya göre al\n        query = query.eq(\"atanan_email\", myEmail).order(\"atanan_sira\", {\n          ascending: true,\n          nullsFirst: false\n        }).order(\"guncelleme_tarihi\", {\n          ascending: false\n        });\n      } else {\n        // Global kolon_sira'ya göre sıralama YOK — her kolonu render sırasında kendi içinde sıralayacağız\n        query = query.order(\"guncelleme_tarihi\", {\n          ascending: false\n        });\n      }\n      if (onlySLA) {\n        const t24 = new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString();\n        query = query.lt(\"sla_son_tarih\", t24).not(\"durum\", \"in\", [\"Tamamlandi\", \"Reddedildi\"]);\n      }\n      const {\n        data,\n        error\n      } = await query.limit(500);\n      if (error) throw error;\n      setRows(data || []);\n    } catch (e) {\n      console.error(e);\n      setErr(\"Kayıtlar çekilemedi.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  /* ---------- yardımcılar ---------- */\n\n  function groupByStatus(items) {\n    const map = Object.fromEntries(BOARD_COLUMNS.map(c => [c.key, []]));\n    items.forEach(i => {\n      (map[i.durum || \"Yeni\"] ??= []).push(i);\n    });\n    return map;\n  }\n\n  // Kolon içi deterministik sıralama (reload'da bozulmayı bununla çözüyoruz)\n  function sortByColRank(a, b) {\n    var _a$kolon_sira, _b$kolon_sira;\n    const ka = (_a$kolon_sira = a.kolon_sira) !== null && _a$kolon_sira !== void 0 ? _a$kolon_sira : 999999;\n    const kb = (_b$kolon_sira = b.kolon_sira) !== null && _b$kolon_sira !== void 0 ? _b$kolon_sira : 999999;\n    if (ka !== kb) return ka - kb;\n    return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\n  }\n\n  // sadece verilen kolon(lar) için kolon_sira'yı 1..N hesapla\n  function recomputeColumnOrder(map, keys) {\n    keys.forEach(k => {\n      (map[k] || []).forEach((it, idx) => {\n        it.kolon_sira = idx + 1;\n      });\n    });\n  }\n\n  // 250ms throttle ile patch'leri kuyruğa alıp yaz\n  function queuePersist(upds) {\n    upds.forEach(u => {\n      const prev = queued.current.get(u.id) || {};\n      queued.current.set(u.id, {\n        ...prev,\n        ...u\n      });\n    });\n    if (!flushTimer.current) {\n      flushTimer.current = setTimeout(async () => {\n        const payload = Array.from(queued.current.values()).map(u => ({\n          id: u.id,\n          ...(u.durum !== undefined ? {\n            durum: u.durum\n          } : {}),\n          ...(u.kolon_sira !== undefined ? {\n            kolon_sira: u.kolon_sira\n          } : {}),\n          ...(u.atanan_sira !== undefined ? {\n            atanan_sira: u.atanan_sira\n          } : {}),\n          guncelleme_tarihi: new Date().toISOString()\n        }));\n        queued.current.clear();\n        flushTimer.current = null;\n        if (payload.length) {\n          const {\n            error\n          } = await supabase.from(\"talepler\").upsert(payload, {\n            onConflict: \"id\"\n          });\n          if (error) console.error(\"realtime-save error\", error);\n        }\n      }, 250);\n    }\n  }\n  async function persistOrder(updates) {\n    if (!(updates !== null && updates !== void 0 && updates.length)) return;\n    const payload = updates.map(u => ({\n      id: u.id,\n      ...(u.durum !== undefined ? {\n        durum: u.durum\n      } : {}),\n      ...(u.kolon_sira !== undefined ? {\n        kolon_sira: u.kolon_sira\n      } : {}),\n      ...(u.atanan_sira !== undefined ? {\n        atanan_sira: u.atanan_sira\n      } : {}),\n      guncelleme_tarihi: new Date().toISOString()\n    }));\n    const {\n      error\n    } = await supabase.from(\"talepler\").upsert(payload, {\n      onConflict: \"id\"\n    });\n    if (error) console.error(\"order save error\", error);\n  }\n\n  /* ---------- DnD: Kanban — anlık + final ---------- */\n\n  function onBoardDragUpdate(update) {\n    const {\n      source,\n      destination,\n      draggableId\n    } = update;\n    if (!destination) return;\n    const from = source.droppableId;\n    const to = destination.droppableId;\n    const map = groupByStatus(rows.map(r => ({\n      ...r\n    })));\n    const fromArr = map[from] || [];\n    const toArr = map[to] || [];\n    const movingIdx = fromArr.findIndex(i => String(i.id) === String(draggableId));\n    if (movingIdx === -1) return;\n    const moving = fromArr.splice(movingIdx, 1)[0];\n    moving.durum = to;\n    const destIndex = Math.min(destination.index, toArr.length);\n    toArr.splice(destIndex, 0, moving);\n    recomputeColumnOrder(map, from === to ? [to] : [from, to]);\n    const updates = [];\n    (map[from] || []).forEach((it, idx) => updates.push({\n      id: it.id,\n      kolon_sira: idx + 1,\n      ...(it.id === moving.id ? {\n        durum: it.durum\n      } : {})\n    }));\n    if (from !== to) {\n      (map[to] || []).forEach((it, idx) => updates.push({\n        id: it.id,\n        kolon_sira: idx + 1,\n        ...(it.id === moving.id ? {\n          durum: it.durum\n        } : {})\n      }));\n    }\n    queuePersist(updates); // drop'u beklemeden yaz\n  }\n  async function onBoardDragEnd(result) {\n    const {\n      source,\n      destination,\n      draggableId\n    } = result;\n    if (!destination) return;\n    const statusFrom = source.droppableId;\n    const statusTo = destination.droppableId;\n    const byStatus = groupByStatus([...rows]);\n    const idx = byStatus[statusFrom].findIndex(i => String(i.id) === String(draggableId));\n    if (idx === -1) return;\n    const item = byStatus[statusFrom][idx];\n    byStatus[statusFrom].splice(idx, 1);\n    byStatus[statusTo].splice(destination.index, 0, item);\n    item.durum = statusTo;\n\n    // her kolonda 1..N\n    BOARD_COLUMNS.forEach(col => {\n      byStatus[col.key].forEach((it, i) => {\n        it.kolon_sira = i + 1;\n      });\n    });\n    const flattened = BOARD_COLUMNS.flatMap(c => byStatus[c.key]);\n    setRows(flattened); // optimistic\n\n    await persistOrder([statusFrom, statusTo].flatMap(k => (byStatus[k] || []).map((it, i) => ({\n      id: it.id,\n      durum: it.durum,\n      kolon_sira: i + 1\n    }))));\n  }\n\n  /* ---------- DnD: Liste — (Bana atananlar) ---------- */\n\n  function onListDragUpdate(update) {\n    const {\n      destination,\n      draggableId\n    } = update;\n    if (!destination || !mineOnly) return;\n    const list = rows.filter(r => r.atanan_email === myEmail).map(r => ({\n      ...r\n    })).sort((a, b) => {\n      var _a$atanan_sira, _b$atanan_sira;\n      return ((_a$atanan_sira = a.atanan_sira) !== null && _a$atanan_sira !== void 0 ? _a$atanan_sira : 999999) - ((_b$atanan_sira = b.atanan_sira) !== null && _b$atanan_sira !== void 0 ? _b$atanan_sira : 999999);\n    });\n    const from = list.findIndex(i => String(i.id) === String(draggableId));\n    if (from === -1) return;\n    const moved = list.splice(from, 1)[0];\n    const destIndex = Math.min(destination.index, list.length);\n    list.splice(destIndex, 0, moved);\n    list.forEach((r, i) => {\n      r.atanan_sira = i + 1;\n    });\n    queuePersist(list.map(r => ({\n      id: r.id,\n      atanan_sira: r.atanan_sira\n    })));\n  }\n  async function onListDragEnd(result) {\n    const {\n      destination,\n      draggableId\n    } = result;\n    if (!destination || !mineOnly) return;\n    const list = rows.filter(r => r.atanan_email === myEmail).map(r => ({\n      ...r\n    })).sort((a, b) => {\n      var _a$atanan_sira2, _b$atanan_sira2;\n      return ((_a$atanan_sira2 = a.atanan_sira) !== null && _a$atanan_sira2 !== void 0 ? _a$atanan_sira2 : 999999) - ((_b$atanan_sira2 = b.atanan_sira) !== null && _b$atanan_sira2 !== void 0 ? _b$atanan_sira2 : 999999);\n    });\n    const from = list.findIndex(i => String(i.id) === String(draggableId));\n    if (from === -1) return;\n    const moved = list.splice(from, 1)[0];\n    list.splice(destination.index, 0, moved);\n    list.forEach((r, i) => {\n      r.atanan_sira = i + 1;\n    });\n    const next = rows.map(r => {\n      const hit = list.find(x => x.id === r.id);\n      return hit ? {\n        ...r,\n        atanan_sira: hit.atanan_sira\n      } : r;\n    });\n    setRows(next);\n    await persistOrder(list.map(({\n      id,\n      atanan_sira\n    }) => ({\n      id,\n      atanan_sira\n    })));\n  }\n\n  /* ---------- tek hızlı aksiyon: Üstlen ---------- */\n  async function takeOwnership(id) {\n    if (!myEmail) return;\n    const myColMax = rows.filter(r => r.durum === \"Inceleme\").reduce((m, r) => Math.max(m, r.kolon_sira || 0), 0) + 1;\n    const myQueueMax = rows.filter(r => r.atanan_email === myEmail).reduce((m, r) => Math.max(m, r.atanan_sira || 0), 0) + 1;\n    const {\n      error\n    } = await supabase.from(\"talepler\").update({\n      atanan_email: myEmail,\n      durum: \"Inceleme\",\n      kolon_sira: myColMax,\n      atanan_sira: myQueueMax,\n      guncelleme_tarihi: new Date().toISOString()\n    }).eq(\"id\", id);\n    if (!error) fetchData();\n  }\n  function handleLogout() {\n    localStorage.removeItem(\"auth_token\");\n    localStorage.removeItem(\"user_profile\");\n    navigate(\"/login\", {\n      replace: true\n    });\n  }\n\n  /* ---------- filter ---------- */\n  const filtered = rows.filter(r => {\n    if (!q) return true;\n    const text = `${r.id} ${r.baslik} ${r.talep_eden_email} ${r.atanan_email || \"\"}`.toLowerCase();\n    return text.includes(q.toLowerCase());\n  });\n  const grouped = groupByStatus(filtered);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mx\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: \"\\uD83E\\uDDED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bt\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Gelen Kutusu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: \"\\u0130\\u015F & S\\xFCre\\xE7 Geli\\u015Ftirme\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cmd\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seg\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `seg-btn ${view === \"board\" ? \"on\" : \"\"}`,\n            onClick: () => setView(\"board\"),\n            children: \"Kanban\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `seg-btn ${view === \"list\" ? \"on\" : \"\"}`,\n            onClick: () => setView(\"list\"),\n            children: \"Liste\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search\",\n            placeholder: \"Ara: #id, ba\\u015Fl\\u0131k, ki\\u015Fi\\u2026\",\n            value: q,\n            onChange: e => setQ(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toggles\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: mineOnly,\n              onChange: e => setMineOnly(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Bana atananlar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: onlySLA,\n              onChange: e => setOnlySLA(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"SLA (<24s)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/newrequest\",\n          className: \"btn primary\",\n          children: \"+ Yeni Talep\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chip\",\n          children: (me === null || me === void 0 ? void 0 : me.kullanici) || (me === null || me === void 0 ? void 0 : me.email)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: handleLogout,\n          children: \"\\xC7\\u0131k\\u0131\\u015F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-alert err\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 21\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-skel\",\n      children: \"Y\\xFCkleniyor\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 17\n    }, this) : view === \"board\" ? /*#__PURE__*/_jsxDEV(DragDropContext, {\n      onDragUpdate: onBoardDragUpdate,\n      onDragEnd: onBoardDragEnd,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board\",\n        children: BOARD_COLUMNS.map(col => {\n          // 🔑 Her kolonu kendi içinde kolon_sira'ya göre sırala (reload sonrası stabil görünüm)\n          const items = (grouped[col.key] || []).slice().sort(sortByColRank);\n          return /*#__PURE__*/_jsxDEV(Droppable, {\n            droppableId: col.key,\n            children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              ref: provided.innerRef,\n              ...provided.droppableProps,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-head\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `dot s-${slug(col.title)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: col.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"count\",\n                  children: items.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-body\",\n                children: [items.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-empty\",\n                  children: \"Hen\\xFCz kay\\u0131t yok\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 72\n                }, this), items.map((item, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n                  draggableId: String(item.id),\n                  index: index,\n                  children: pp => /*#__PURE__*/_jsxDEV(\"div\", {\n                    ref: pp.innerRef,\n                    ...pp.draggableProps,\n                    ...pp.dragHandleProps,\n                    children: /*#__PURE__*/_jsxDEV(Card, {\n                      data: item,\n                      rank: index + 1,\n                      onOpen: () => setActive(item),\n                      onTake: () => takeOwnership(item.id),\n                      me: myEmail\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 65\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 61\n                  }, this)\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 53\n                }, this)), provided.placeholder]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 41\n            }, this)\n          }, col.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 17\n    }, this) :\n    /*#__PURE__*/\n    // LISTE — \"Bana atananlar\" açıkken sürükleyerek kendi kuyruğunu sırala\n    _jsxDEV(DragDropContext, {\n      onDragUpdate: onListDragUpdate,\n      onDragEnd: onListDragEnd,\n      children: /*#__PURE__*/_jsxDEV(Droppable, {\n        droppableId: \"listMine\",\n        isDropDisabled: !mineOnly,\n        children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"listv\",\n          ref: provided.innerRef,\n          ...provided.droppableProps,\n          children: [filtered.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-empty\",\n            children: \"Kay\\u0131t bulunamad\\u0131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 59\n          }, this), filtered.map((r, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n            draggableId: String(r.id),\n            index: index,\n            isDragDisabled: !mineOnly,\n            children: pp => {\n              var _r$atanan_sira;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: pp.innerRef,\n                ...pp.draggableProps,\n                ...pp.dragHandleProps,\n                className: \"rowv\",\n                onClick: () => setActive(r),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `pill ${PILL_COLOR[r.oncelik] || \"p3\"}`,\n                  children: r.oncelik || \"P3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge s-${slug(STATUS_DISPLAY[r.durum] || \"Yeni\")}`,\n                  children: STATUS_DISPLAY[r.durum] || \"Yeni\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-title\",\n                  children: [\"#\", r.id, \" \\u2014 \", r.baslik]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-sub\",\n                  children: [r.talep_eden_email, \" \\u2192 \", r.atanan_email || \"—\", mineOnly && r.atanan_email === myEmail && /*#__PURE__*/_jsxDEV(\"b\", {\n                    style: {\n                      marginLeft: 8,\n                      opacity: .8\n                    },\n                    children: [\"(S\\u0131ra: \", (_r$atanan_sira = r.atanan_sira) !== null && _r$atanan_sira !== void 0 ? _r$atanan_sira : \"—\", \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-time\",\n                  children: fmtTime(r.guncelleme_tarihi)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 45\n              }, this);\n            }\n          }, r.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 37\n          }, this)), provided.placeholder, !mineOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hint\",\n            style: {\n              padding: 8,\n              opacity: .7\n            },\n            children: \"Listeyi s\\xFCr\\xFCkleyerek s\\u0131ralamak i\\xE7in \\u201CBana atananlar\\u201D\\u0131 i\\u015Faretleyin.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 17\n    }, this), active && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drawer\",\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawer-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"drawer-close\",\n          onClick: () => setActive(null),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawer-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `pill ${PILL_COLOR[active.oncelik] || \"p3\"}`,\n            children: active.oncelik || \"P3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `badge s-${slug(STATUS_DISPLAY[active.durum] || \"Yeni\")}`,\n            children: STATUS_DISPLAY[active.durum] || \"Yeni\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"#\", active.id, \" \\u2014 \", active.baslik]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-sub\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0130steyen: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: active.talep_eden_email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \\xB7 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Atanan: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: active.atanan_email || \"—\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \\xB7 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"G\\xFCncellendi: \", fmtTime(active.guncelleme_tarihi)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawer-body\",\n          children: [/*#__PURE__*/_jsxDEV(Section, {\n            title: \"A\\xE7\\u0131klama\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"desc\",\n              children: active.aciklama || \"Açıklama girilmemiş.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 29\n          }, this), !active.atanan_email && /*#__PURE__*/_jsxDEV(Section, {\n            title: \"Atama\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn primary\",\n              onClick: () => {\n                setActive(null);\n                takeOwnership(active.id);\n              },\n              children: \"\\xDCstlen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Section, {\n            title: \"Zaman\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"kv\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Hedef Tarih:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: active.bitis_tarihi ? fmtDate(active.bitis_tarihi) : \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 67\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"SLA Son:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: active.sla_son_tarih ? fmtDate(active.sla_son_tarih) : \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawer-backdrop\",\n        onClick: () => setActive(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 337,\n    columnNumber: 9\n  }, this);\n}\n\n/* -------- components -------- */\n_s(InboxModern, \"Tu/DhErgk7RWYeLgkn0rjXQu4cw=\", false, function () {\n  return [useNavigate];\n});\n_c = InboxModern;\nfunction Card({\n  data,\n  rank,\n  onOpen,\n  onTake,\n  me\n}) {\n  const mine = data.atanan_email && data.atanan_email === me;\n  const slaSoon = data.sla_son_tarih && new Date(data.sla_son_tarih).getTime() - Date.now() < 24 * 60 * 60 * 1000;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `card ${mine ? \"mine\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `pill ${PILL_COLOR[data.oncelik] || \"p3\"}`,\n        children: data.oncelik || \"P3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `badge s-${slug(STATUS_DISPLAY[data.durum] || \"Yeni\")}`,\n        children: STATUS_DISPLAY[data.durum] || \"Yeni\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 17\n      }, this), slaSoon && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sla\",\n        children: \"SLA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        title: \"Bu kolondaki s\\u0131ra\",\n        style: {\n          marginLeft: \"auto\",\n          fontSize: 12,\n          opacity: .75\n        },\n        children: [\"#\", rank]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"icn\",\n        onClick: onOpen,\n        title: \"Detay\",\n        children: \"\\u22EF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-title\",\n      children: [\"#\", data.id, \" \\u2014 \", data.baslik]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-sub\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.talep_eden_email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: data.atanan_email || \"—\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-foot\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"time\",\n        children: fmtTime(data.guncelleme_tarihi)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"act\",\n        children: !data.atanan_email && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn ghost xs\",\n          onClick: onTake,\n          children: \"\\xDCstlen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 513,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Card;\nfunction Section({\n  title,\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"sec\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sec-h\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sec-b\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 541,\n    columnNumber: 9\n  }, this);\n}\n\n/* -------- utils -------- */\n_c3 = Section;\nfunction slug(s) {\n  return (s || \"\").toLowerCase().replaceAll(\"ı\", \"i\").replaceAll(\"ğ\", \"g\").replaceAll(\"ş\", \"s\").replaceAll(\"ö\", \"o\").replaceAll(\"ç\", \"c\").replaceAll(\"ü\", \"u\").replace(/\\s+/g, \"-\");\n}\nfunction fmtTime(ts) {\n  try {\n    return new Date(ts).toLocaleString();\n  } catch {\n    return \"—\";\n  }\n}\nfunction fmtDate(ts) {\n  try {\n    return new Date(ts).toLocaleDateString();\n  } catch {\n    return \"—\";\n  }\n}\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"InboxModern\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"Section\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useNavigate","Link","DragDropContext","Droppable","Draggable","supabase","jsxDEV","_jsxDEV","STATUS_DISPLAY","Yeni","Inceleme","Atandi","Calisiliyor","Beklemede","Tamamlandi","BOARD_COLUMNS","key","title","PILL_COLOR","P1","P2","P3","InboxModern","_s","navigate","me","JSON","parse","localStorage","getItem","myEmail","email","view","setView","q","setQ","mineOnly","setMineOnly","onlySLA","setOnlySLA","loading","setLoading","err","setErr","rows","setRows","active","setActive","flushTimer","queued","Map","token","replace","ch","channel","on","event","schema","table","payload","prev","_payload$new","row","new","old","id","eventType","filter","x","i","findIndex","next","subscribe","removeChannel","fetchData","now","Date","query","from","select","eq","order","ascending","nullsFirst","t24","getTime","toISOString","lt","not","data","error","limit","e","console","groupByStatus","items","map","Object","fromEntries","c","forEach","durum","push","sortByColRank","a","b","_a$kolon_sira","_b$kolon_sira","ka","kolon_sira","kb","guncelleme_tarihi","recomputeColumnOrder","keys","k","it","idx","queuePersist","upds","u","current","get","set","setTimeout","Array","values","undefined","atanan_sira","clear","length","upsert","onConflict","persistOrder","updates","onBoardDragUpdate","update","source","destination","draggableId","droppableId","to","r","fromArr","toArr","movingIdx","String","moving","splice","destIndex","Math","min","index","onBoardDragEnd","result","statusFrom","statusTo","byStatus","item","col","flattened","flatMap","onListDragUpdate","list","atanan_email","sort","_a$atanan_sira","_b$atanan_sira","moved","onListDragEnd","_a$atanan_sira2","_b$atanan_sira2","hit","find","takeOwnership","myColMax","reduce","m","max","myQueueMax","handleLogout","removeItem","filtered","text","baslik","talep_eden_email","toLowerCase","includes","grouped","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","value","onChange","target","type","checked","kullanici","onDragUpdate","onDragEnd","slice","provided","ref","innerRef","droppableProps","slug","pp","draggableProps","dragHandleProps","Card","rank","onOpen","onTake","isDropDisabled","isDragDisabled","_r$atanan_sira","oncelik","style","marginLeft","opacity","fmtTime","padding","role","Section","aciklama","bitis_tarihi","fmtDate","sla_son_tarih","_c","mine","slaSoon","fontSize","_c2","_c3","s","replaceAll","ts","toLocaleString","toLocaleDateString","$RefreshReg$"],"sources":["C:/Users/Gorkem.Cadirci/talep-sistemi/src/pages/Inbox.js"],"sourcesContent":["// src/pages/Inbox.js\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\r\nimport supabase from \"../supabaseClient\";\r\nimport \"./Inbox.css\";\r\n\r\n/** DB anahtar -> ekranda görünen */\r\nconst STATUS_DISPLAY = {\r\n    Yeni: \"Yeni\",\r\n    Inceleme: \"İnceleme\",\r\n    Atandi: \"Atandı\",\r\n    Calisiliyor: \"Çalışılıyor\",\r\n    Beklemede: \"Beklemede\",\r\n    Tamamlandi: \"Tamamlandı\",\r\n};\r\n\r\nconst BOARD_COLUMNS = [\r\n    { key: \"Yeni\", title: \"Yeni\" },\r\n    { key: \"Inceleme\", title: \"İnceleme\" },\r\n    { key: \"Atandi\", title: \"Atandı\" },\r\n    { key: \"Calisiliyor\", title: \"Çalışılıyor\" },\r\n    { key: \"Beklemede\", title: \"Beklemede\" },\r\n    { key: \"Tamamlandi\", title: \"Tamamlandı\" },\r\n];\r\n\r\nconst PILL_COLOR = { P1: \"p1\", P2: \"p2\", P3: \"p3\" };\r\n\r\nexport default function InboxModern() {\r\n    const navigate = useNavigate();\r\n\r\n    // --- auth/profile\r\n    const me = useMemo(() => {\r\n        try { return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\"); }\r\n        catch { return {}; }\r\n    }, []);\r\n    const myEmail = me?.email || \"\";\r\n\r\n    // --- ui\r\n    const [view, setView] = useState(\"board\"); // \"board\" | \"list\"\r\n    const [q, setQ] = useState(\"\");\r\n    const [mineOnly, setMineOnly] = useState(false);\r\n    const [onlySLA, setOnlySLA] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [err, setErr] = useState(\"\");\r\n    const [rows, setRows] = useState([]);\r\n    const [active, setActive] = useState(null);\r\n\r\n    // --- throttle kuyruk\r\n    const flushTimer = useRef(null);\r\n    const queued = useRef(new Map()); // id -> patch\r\n\r\n    // --- guard\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"auth_token\");\r\n        if (!token) navigate(\"/login\", { replace: true });\r\n    }, [navigate]);\r\n\r\n    // --- realtime: herkes canlı görsün\r\n    useEffect(() => {\r\n        const ch = supabase\r\n            .channel(\"realtime:talepler\")\r\n            .on(\r\n                \"postgres_changes\",\r\n                { event: \"*\", schema: \"public\", table: \"talepler\" },\r\n                (payload) => {\r\n                    setRows((prev) => {\r\n                        const row = payload.new ?? payload.old;\r\n                        if (!row?.id) return prev;\r\n\r\n                        if (payload.eventType === \"DELETE\") {\r\n                            return prev.filter((x) => x.id !== row.id);\r\n                        }\r\n                        const i = prev.findIndex((x) => x.id === row.id);\r\n                        if (i >= 0) {\r\n                            const next = [...prev];\r\n                            next[i] = { ...next[i], ...payload.new };\r\n                            return next;\r\n                        }\r\n                        return [...prev, payload.new];\r\n                    });\r\n                }\r\n            )\r\n            .subscribe();\r\n\r\n        return () => { try { supabase.removeChannel(ch); } catch { } };\r\n    }, []);\r\n\r\n    // --- data\r\n    useEffect(() => { fetchData(); /* eslint-disable-next-line */ }, [mineOnly, onlySLA]);\r\n\r\n    async function fetchData() {\r\n        if (!myEmail) return;\r\n        setLoading(true); setErr(\"\");\r\n        try {\r\n            const now = new Date();\r\n\r\n            let query = supabase.from(\"talepler\").select(`\r\n        id, baslik, durum, oncelik, talep_eden_email, atanan_email,\r\n        guncelleme_tarihi, bitis_tarihi, sla_son_tarih, aciklama,\r\n        kolon_sira, atanan_sira\r\n      `);\r\n\r\n            if (mineOnly) {\r\n                // Bana atananlar görünümünde kuyruğu DB'den atanan_sira'ya göre al\r\n                query = query.eq(\"atanan_email\", myEmail)\r\n                    .order(\"atanan_sira\", { ascending: true, nullsFirst: false })\r\n                    .order(\"guncelleme_tarihi\", { ascending: false });\r\n            } else {\r\n                // Global kolon_sira'ya göre sıralama YOK — her kolonu render sırasında kendi içinde sıralayacağız\r\n                query = query.order(\"guncelleme_tarihi\", { ascending: false });\r\n            }\r\n\r\n            if (onlySLA) {\r\n                const t24 = new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString();\r\n                query = query.lt(\"sla_son_tarih\", t24).not(\"durum\", \"in\", [\"Tamamlandi\", \"Reddedildi\"]);\r\n            }\r\n\r\n            const { data, error } = await query.limit(500);\r\n            if (error) throw error;\r\n            setRows(data || []);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setErr(\"Kayıtlar çekilemedi.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    /* ---------- yardımcılar ---------- */\r\n\r\n    function groupByStatus(items) {\r\n        const map = Object.fromEntries(BOARD_COLUMNS.map(c => [c.key, []]));\r\n        items.forEach(i => { (map[i.durum || \"Yeni\"] ??= []).push(i); });\r\n        return map;\r\n    }\r\n\r\n    // Kolon içi deterministik sıralama (reload'da bozulmayı bununla çözüyoruz)\r\n    function sortByColRank(a, b) {\r\n        const ka = (a.kolon_sira ?? 999999);\r\n        const kb = (b.kolon_sira ?? 999999);\r\n        if (ka !== kb) return ka - kb;\r\n        return new Date(b.guncelleme_tarihi) - new Date(a.guncelleme_tarihi);\r\n    }\r\n\r\n    // sadece verilen kolon(lar) için kolon_sira'yı 1..N hesapla\r\n    function recomputeColumnOrder(map, keys) {\r\n        keys.forEach(k => {\r\n            (map[k] || []).forEach((it, idx) => { it.kolon_sira = idx + 1; });\r\n        });\r\n    }\r\n\r\n    // 250ms throttle ile patch'leri kuyruğa alıp yaz\r\n    function queuePersist(upds) {\r\n        upds.forEach(u => {\r\n            const prev = queued.current.get(u.id) || {};\r\n            queued.current.set(u.id, { ...prev, ...u });\r\n        });\r\n        if (!flushTimer.current) {\r\n            flushTimer.current = setTimeout(async () => {\r\n                const payload = Array.from(queued.current.values()).map(u => ({\r\n                    id: u.id,\r\n                    ...(u.durum !== undefined ? { durum: u.durum } : {}),\r\n                    ...(u.kolon_sira !== undefined ? { kolon_sira: u.kolon_sira } : {}),\r\n                    ...(u.atanan_sira !== undefined ? { atanan_sira: u.atanan_sira } : {}),\r\n                    guncelleme_tarihi: new Date().toISOString(),\r\n                }));\r\n                queued.current.clear();\r\n                flushTimer.current = null;\r\n                if (payload.length) {\r\n                    const { error } = await supabase.from(\"talepler\").upsert(payload, { onConflict: \"id\" });\r\n                    if (error) console.error(\"realtime-save error\", error);\r\n                }\r\n            }, 250);\r\n        }\r\n    }\r\n\r\n    async function persistOrder(updates) {\r\n        if (!updates?.length) return;\r\n        const payload = updates.map(u => ({\r\n            id: u.id,\r\n            ...(u.durum !== undefined ? { durum: u.durum } : {}),\r\n            ...(u.kolon_sira !== undefined ? { kolon_sira: u.kolon_sira } : {}),\r\n            ...(u.atanan_sira !== undefined ? { atanan_sira: u.atanan_sira } : {}),\r\n            guncelleme_tarihi: new Date().toISOString(),\r\n        }));\r\n        const { error } = await supabase.from(\"talepler\").upsert(payload, { onConflict: \"id\" });\r\n        if (error) console.error(\"order save error\", error);\r\n    }\r\n\r\n    /* ---------- DnD: Kanban — anlık + final ---------- */\r\n\r\n    function onBoardDragUpdate(update) {\r\n        const { source, destination, draggableId } = update;\r\n        if (!destination) return;\r\n\r\n        const from = source.droppableId;\r\n        const to = destination.droppableId;\r\n\r\n        const map = groupByStatus(rows.map(r => ({ ...r })));\r\n        const fromArr = map[from] || [];\r\n        const toArr = map[to] || [];\r\n\r\n        const movingIdx = fromArr.findIndex(i => String(i.id) === String(draggableId));\r\n        if (movingIdx === -1) return;\r\n\r\n        const moving = fromArr.splice(movingIdx, 1)[0];\r\n        moving.durum = to;\r\n\r\n        const destIndex = Math.min(destination.index, toArr.length);\r\n        toArr.splice(destIndex, 0, moving);\r\n\r\n        recomputeColumnOrder(map, from === to ? [to] : [from, to]);\r\n\r\n        const updates = [];\r\n        (map[from] || []).forEach((it, idx) => updates.push({ id: it.id, kolon_sira: idx + 1, ...(it.id === moving.id ? { durum: it.durum } : {}) }));\r\n        if (from !== to) {\r\n            (map[to] || []).forEach((it, idx) => updates.push({ id: it.id, kolon_sira: idx + 1, ...(it.id === moving.id ? { durum: it.durum } : {}) }));\r\n        }\r\n\r\n        queuePersist(updates); // drop'u beklemeden yaz\r\n    }\r\n\r\n    async function onBoardDragEnd(result) {\r\n        const { source, destination, draggableId } = result;\r\n        if (!destination) return;\r\n\r\n        const statusFrom = source.droppableId;\r\n        const statusTo = destination.droppableId;\r\n\r\n        const byStatus = groupByStatus([...rows]);\r\n        const idx = byStatus[statusFrom].findIndex(i => String(i.id) === String(draggableId));\r\n        if (idx === -1) return;\r\n\r\n        const item = byStatus[statusFrom][idx];\r\n        byStatus[statusFrom].splice(idx, 1);\r\n        byStatus[statusTo].splice(destination.index, 0, item);\r\n        item.durum = statusTo;\r\n\r\n        // her kolonda 1..N\r\n        BOARD_COLUMNS.forEach(col => {\r\n            byStatus[col.key].forEach((it, i) => { it.kolon_sira = i + 1; });\r\n        });\r\n\r\n        const flattened = BOARD_COLUMNS.flatMap(c => byStatus[c.key]);\r\n        setRows(flattened); // optimistic\r\n\r\n        await persistOrder(\r\n            [statusFrom, statusTo].flatMap(k =>\r\n                (byStatus[k] || []).map((it, i) => ({ id: it.id, durum: it.durum, kolon_sira: i + 1 }))\r\n            )\r\n        );\r\n    }\r\n\r\n    /* ---------- DnD: Liste — (Bana atananlar) ---------- */\r\n\r\n    function onListDragUpdate(update) {\r\n        const { destination, draggableId } = update;\r\n        if (!destination || !mineOnly) return;\r\n\r\n        const list = rows\r\n            .filter(r => r.atanan_email === myEmail)\r\n            .map(r => ({ ...r }))\r\n            .sort((a, b) => (a.atanan_sira ?? 999999) - (b.atanan_sira ?? 999999));\r\n\r\n        const from = list.findIndex(i => String(i.id) === String(draggableId));\r\n        if (from === -1) return;\r\n\r\n        const moved = list.splice(from, 1)[0];\r\n        const destIndex = Math.min(destination.index, list.length);\r\n        list.splice(destIndex, 0, moved);\r\n\r\n        list.forEach((r, i) => { r.atanan_sira = i + 1; });\r\n\r\n        queuePersist(list.map(r => ({ id: r.id, atanan_sira: r.atanan_sira })));\r\n    }\r\n\r\n    async function onListDragEnd(result) {\r\n        const { destination, draggableId } = result;\r\n        if (!destination || !mineOnly) return;\r\n\r\n        const list = rows\r\n            .filter(r => r.atanan_email === myEmail)\r\n            .map(r => ({ ...r }))\r\n            .sort((a, b) => (a.atanan_sira ?? 999999) - (b.atanan_sira ?? 999999));\r\n\r\n        const from = list.findIndex(i => String(i.id) === String(draggableId));\r\n        if (from === -1) return;\r\n\r\n        const moved = list.splice(from, 1)[0];\r\n        list.splice(destination.index, 0, moved);\r\n        list.forEach((r, i) => { r.atanan_sira = i + 1; });\r\n\r\n        const next = rows.map(r => {\r\n            const hit = list.find(x => x.id === r.id);\r\n            return hit ? { ...r, atanan_sira: hit.atanan_sira } : r;\r\n        });\r\n        setRows(next);\r\n\r\n        await persistOrder(list.map(({ id, atanan_sira }) => ({ id, atanan_sira })));\r\n    }\r\n\r\n    /* ---------- tek hızlı aksiyon: Üstlen ---------- */\r\n    async function takeOwnership(id) {\r\n        if (!myEmail) return;\r\n        const myColMax = rows.filter(r => r.durum === \"Inceleme\")\r\n            .reduce((m, r) => Math.max(m, r.kolon_sira || 0), 0) + 1;\r\n        const myQueueMax = rows.filter(r => r.atanan_email === myEmail)\r\n            .reduce((m, r) => Math.max(m, r.atanan_sira || 0), 0) + 1;\r\n\r\n        const { error } = await supabase.from(\"talepler\").update({\r\n            atanan_email: myEmail,\r\n            durum: \"Inceleme\",\r\n            kolon_sira: myColMax,\r\n            atanan_sira: myQueueMax,\r\n            guncelleme_tarihi: new Date().toISOString()\r\n        }).eq(\"id\", id);\r\n        if (!error) fetchData();\r\n    }\r\n\r\n    function handleLogout() {\r\n        localStorage.removeItem(\"auth_token\");\r\n        localStorage.removeItem(\"user_profile\");\r\n        navigate(\"/login\", { replace: true });\r\n    }\r\n\r\n    /* ---------- filter ---------- */\r\n    const filtered = rows.filter(r => {\r\n        if (!q) return true;\r\n        const text = `${r.id} ${r.baslik} ${r.talep_eden_email} ${r.atanan_email || \"\"}`.toLowerCase();\r\n        return text.includes(q.toLowerCase());\r\n    });\r\n\r\n    const grouped = groupByStatus(filtered);\r\n\r\n    return (\r\n        <div className=\"mx\">\r\n            {/* Command bar */}\r\n            <div className=\"mx-top\">\r\n                <div className=\"brand\">\r\n                    <div className=\"logo\">🧭</div>\r\n                    <div className=\"bt\">\r\n                        <h1>Gelen Kutusu</h1>\r\n                        <span className=\"muted\">İş & Süreç Geliştirme</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"cmd\">\r\n                    <div className=\"seg\">\r\n                        <button className={`seg-btn ${view === \"board\" ? \"on\" : \"\"}`} onClick={() => setView(\"board\")}>Kanban</button>\r\n                        <button className={`seg-btn ${view === \"list\" ? \"on\" : \"\"}`} onClick={() => setView(\"list\")}>Liste</button>\r\n                    </div>\r\n\r\n                    <div className=\"search-wrap\">\r\n                        <input className=\"search\" placeholder=\"Ara: #id, başlık, kişi…\" value={q} onChange={(e) => setQ(e.target.value)} />\r\n                    </div>\r\n\r\n                    <div className=\"toggles\">\r\n                        <label className=\"toggle\">\r\n                            <input type=\"checkbox\" checked={mineOnly} onChange={e => setMineOnly(e.target.checked)} />\r\n                            <span>Bana atananlar</span>\r\n                        </label>\r\n                        <label className=\"toggle\">\r\n                            <input type=\"checkbox\" checked={onlySLA} onChange={e => setOnlySLA(e.target.checked)} />\r\n                            <span>SLA (&lt;24s)</span>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <Link to=\"/newrequest\" className=\"btn primary\">+ Yeni Talep</Link>\r\n                    <div className=\"chip\">{me?.kullanici || me?.email}</div>\r\n                    <button className=\"btn danger\" onClick={handleLogout}>Çıkış</button>\r\n                </div>\r\n            </div>\r\n\r\n            {err && <div className=\"mx-alert err\">{err}</div>}\r\n\r\n            {loading ? (\r\n                <div className=\"mx-skel\">Yükleniyor…</div>\r\n            ) : view === \"board\" ? (\r\n                <DragDropContext onDragUpdate={onBoardDragUpdate} onDragEnd={onBoardDragEnd}>\r\n                    <div className=\"board\">\r\n                        {BOARD_COLUMNS.map(col => {\r\n                            // 🔑 Her kolonu kendi içinde kolon_sira'ya göre sırala (reload sonrası stabil görünüm)\r\n                            const items = (grouped[col.key] || []).slice().sort(sortByColRank);\r\n                            return (\r\n                                <Droppable droppableId={col.key} key={col.key}>\r\n                                    {(provided) => (\r\n                                        <div className=\"col\" ref={provided.innerRef} {...provided.droppableProps}>\r\n                                            <div className=\"col-head\">\r\n                                                <span className={`dot s-${slug(col.title)}`}></span>\r\n                                                <h3>{col.title}</h3>\r\n                                                <span className=\"count\">{items.length}</span>\r\n                                            </div>\r\n                                            <div className=\"col-body\">\r\n                                                {items.length === 0 && <div className=\"col-empty\">Henüz kayıt yok</div>}\r\n                                                {items.map((item, index) => (\r\n                                                    <Draggable draggableId={String(item.id)} index={index} key={item.id}>\r\n                                                        {(pp) => (\r\n                                                            <div ref={pp.innerRef} {...pp.draggableProps} {...pp.dragHandleProps}>\r\n                                                                <Card\r\n                                                                    data={item}\r\n                                                                    rank={index + 1}\r\n                                                                    onOpen={() => setActive(item)}\r\n                                                                    onTake={() => takeOwnership(item.id)}\r\n                                                                    me={myEmail}\r\n                                                                />\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </Draggable>\r\n                                                ))}\r\n                                                {provided.placeholder}\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </Droppable>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </DragDropContext>\r\n            ) : (\r\n                // LISTE — \"Bana atananlar\" açıkken sürükleyerek kendi kuyruğunu sırala\r\n                <DragDropContext onDragUpdate={onListDragUpdate} onDragEnd={onListDragEnd}>\r\n                    <Droppable droppableId=\"listMine\" isDropDisabled={!mineOnly}>\r\n                        {(provided) => (\r\n                            <div className=\"listv\" ref={provided.innerRef} {...provided.droppableProps}>\r\n                                {filtered.length === 0 && <div className=\"col-empty\">Kayıt bulunamadı</div>}\r\n                                {filtered.map((r, index) => (\r\n                                    <Draggable draggableId={String(r.id)} index={index} key={r.id} isDragDisabled={!mineOnly}>\r\n                                        {(pp) => (\r\n                                            <div\r\n                                                ref={pp.innerRef} {...pp.draggableProps} {...pp.dragHandleProps}\r\n                                                className=\"rowv\" onClick={() => setActive(r)}\r\n                                            >\r\n                                                <span className={`pill ${PILL_COLOR[r.oncelik] || \"p3\"}`}>{r.oncelik || \"P3\"}</span>\r\n                                                <span className={`badge s-${slug(STATUS_DISPLAY[r.durum] || \"Yeni\")}`}>{STATUS_DISPLAY[r.durum] || \"Yeni\"}</span>\r\n                                                <span className=\"r-title\">#{r.id} — {r.baslik}</span>\r\n                                                <span className=\"r-sub\">\r\n                                                    {r.talep_eden_email} → {r.atanan_email || \"—\"}\r\n                                                    {mineOnly && r.atanan_email === myEmail && (\r\n                                                        <b style={{ marginLeft: 8, opacity: .8 }}>(Sıra: {r.atanan_sira ?? \"—\"})</b>\r\n                                                    )}\r\n                                                </span>\r\n                                                <span className=\"r-time\">{fmtTime(r.guncelleme_tarihi)}</span>\r\n                                            </div>\r\n                                        )}\r\n                                    </Draggable>\r\n                                ))}\r\n                                {provided.placeholder}\r\n                                {!mineOnly && (\r\n                                    <div className=\"hint\" style={{ padding: 8, opacity: .7 }}>\r\n                                        Listeyi sürükleyerek sıralamak için “Bana atananlar”ı işaretleyin.\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </Droppable>\r\n                </DragDropContext>\r\n            )}\r\n\r\n            {/* Detay çekmecesi */}\r\n            {active && (\r\n                <div className=\"drawer\" role=\"dialog\" aria-modal=\"true\">\r\n                    <div className=\"drawer-panel\">\r\n                        <button className=\"drawer-close\" onClick={() => setActive(null)}>×</button>\r\n\r\n                        <div className=\"drawer-top\">\r\n                            <span className={`pill ${PILL_COLOR[active.oncelik] || \"p3\"}`}>{active.oncelik || \"P3\"}</span>\r\n                            <span className={`badge s-${slug(STATUS_DISPLAY[active.durum] || \"Yeni\")}`}>{STATUS_DISPLAY[active.durum] || \"Yeni\"}</span>\r\n                            <h2>#{active.id} — {active.baslik}</h2>\r\n                            <div className=\"d-sub\">\r\n                                <span>İsteyen: <b>{active.talep_eden_email}</b></span>\r\n                                <span> · </span>\r\n                                <span>Atanan: <b>{active.atanan_email || \"—\"}</b></span>\r\n                                <span> · </span>\r\n                                <span>Güncellendi: {fmtTime(active.guncelleme_tarihi)}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"drawer-body\">\r\n                            <Section title=\"Açıklama\">\r\n                                <p className=\"desc\">{active.aciklama || \"Açıklama girilmemiş.\"}</p>\r\n                            </Section>\r\n\r\n                            {!active.atanan_email && (\r\n                                <Section title=\"Atama\">\r\n                                    <button className=\"btn primary\" onClick={() => { setActive(null); takeOwnership(active.id); }}>\r\n                                        Üstlen\r\n                                    </button>\r\n                                </Section>\r\n                            )}\r\n\r\n                            <Section title=\"Zaman\">\r\n                                <div className=\"kv\">\r\n                                    <div><span>Hedef Tarih:</span><b>{active.bitis_tarihi ? fmtDate(active.bitis_tarihi) : \"—\"}</b></div>\r\n                                    <div><span>SLA Son:</span><b>{active.sla_son_tarih ? fmtDate(active.sla_son_tarih) : \"—\"}</b></div>\r\n                                </div>\r\n                            </Section>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"drawer-backdrop\" onClick={() => setActive(null)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n/* -------- components -------- */\r\nfunction Card({ data, rank, onOpen, onTake, me }) {\r\n    const mine = data.atanan_email && data.atanan_email === me;\r\n    const slaSoon = data.sla_son_tarih && new Date(data.sla_son_tarih).getTime() - Date.now() < 24 * 60 * 60 * 1000;\r\n\r\n    return (\r\n        <div className={`card ${mine ? \"mine\" : \"\"}`}>\r\n            <div className=\"c-top\">\r\n                <span className={`pill ${PILL_COLOR[data.oncelik] || \"p3\"}`}>{data.oncelik || \"P3\"}</span>\r\n                <span className={`badge s-${slug(STATUS_DISPLAY[data.durum] || \"Yeni\")}`}>{STATUS_DISPLAY[data.durum] || \"Yeni\"}</span>\r\n                {slaSoon && <span className=\"sla\">SLA</span>}\r\n                <span title=\"Bu kolondaki sıra\" style={{ marginLeft: \"auto\", fontSize: 12, opacity: .75 }}>#{rank}</span>\r\n                <button className=\"icn\" onClick={onOpen} title=\"Detay\">⋯</button>\r\n            </div>\r\n\r\n            <div className=\"c-title\">#{data.id} — {data.baslik}</div>\r\n            <div className=\"c-sub\">\r\n                <span>{data.talep_eden_email}</span>\r\n                <span>→</span>\r\n                <span>{data.atanan_email || \"—\"}</span>\r\n            </div>\r\n\r\n            <div className=\"c-foot\">\r\n                <span className=\"time\">{fmtTime(data.guncelleme_tarihi)}</span>\r\n                <div className=\"act\">\r\n                    {!data.atanan_email && <button className=\"btn ghost xs\" onClick={onTake}>Üstlen</button>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Section({ title, children }) {\r\n    return (\r\n        <section className=\"sec\">\r\n            <div className=\"sec-h\"><h4>{title}</h4></div>\r\n            <div className=\"sec-b\">{children}</div>\r\n        </section>\r\n    );\r\n}\r\n\r\n/* -------- utils -------- */\r\nfunction slug(s) { return (s || \"\").toLowerCase().replaceAll(\"ı\", \"i\").replaceAll(\"ğ\", \"g\").replaceAll(\"ş\", \"s\").replaceAll(\"ö\", \"o\").replaceAll(\"ç\", \"c\").replaceAll(\"ü\", \"u\").replace(/\\s+/g, \"-\"); }\r\nfunction fmtTime(ts) { try { return new Date(ts).toLocaleString(); } catch { return \"—\"; } }\r\nfunction fmtDate(ts) { try { return new Date(ts).toLocaleDateString(); } catch { return \"—\"; } }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}