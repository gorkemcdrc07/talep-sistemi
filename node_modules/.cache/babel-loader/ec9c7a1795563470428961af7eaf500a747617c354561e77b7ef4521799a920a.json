{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gorkem.Cadirci\\\\talep-sistemi\\\\src\\\\pages\\\\Inbox.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\nimport supabase from \"../supabaseClient\";\nimport \"./Inbox.css\";\n\n/**\r\n * NOTLAR\r\n * - Realtime için:  alter publication supabase_realtime add table public.talepler;\r\n * - (Opsiyonel) RPC: set_global_order(ids int[]) — liste görünümü global sıralama için.\r\n */\n\n/* ---- DURUM ETİKET/MAP ----\r\n   UI içinde KEY kullanıyoruz (Yeni, SirayaAlindi, ...).\r\n   DB'ye yazarken ETİKET'e çeviriyoruz (Yeni, \"Sıraya Alındı\", ...).\r\n   DB'den okurken ETİKET'i KEY'e normalize ediyoruz.\r\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_DB_LABEL = {\n  Yeni: \"Yeni\",\n  SirayaAlindi: \"Sıraya Alındı\",\n  IslemeAlindi: \"İşleme Alındı\",\n  TestEdiliyor: \"Test Ediliyor\",\n  Tamamlandi: \"Tamamlandı\"\n  // Reddedildi: \"Reddedildi\", // (DB'de varsa ekle)\n};\nconst STATUS_TO_KEY = Object.fromEntries(_c2 = Object.entries(STATUS_DB_LABEL).map(_c = ([k, v]) => [v, k]));\n_c3 = STATUS_TO_KEY;\nconst STATUS_DISPLAY = {\n  Yeni: \"Yeni\",\n  SirayaAlindi: \"Sıraya Alındı\",\n  IslemeAlindi: \"İşleme Alındı\",\n  TestEdiliyor: \"Test Ediliyor\",\n  Tamamlandi: \"Tamamlandı\"\n};\nconst BOARD_COLUMNS = [{\n  key: \"Yeni\",\n  title: \"Yeni\"\n}, {\n  key: \"SirayaAlindi\",\n  title: \"Sıraya Alındı\"\n}, {\n  key: \"IslemeAlindi\",\n  title: \"İşleme Alındı\"\n}, {\n  key: \"TestEdiliyor\",\n  title: \"Test Ediliyor\"\n}, {\n  key: \"Tamamlandi\",\n  title: \"Tamamlandı\"\n}];\nconst PILL_COLOR = {\n  P1: \"p1\",\n  P2: \"p2\",\n  P3: \"p3\"\n};\n\n/* ---- YETKİ YARDIMCI ---- */\nfunction trUp(s) {\n  return (s || \"\").trim().toLocaleUpperCase(\"tr-TR\");\n}\nconst ALLOWED_NAMES = new Set([\"GÖRKEM ÇADIRCI\", \"FURKAN BİLGİLİ\", \"YAĞIZ EFE BULUTCU\"]);\nfunction computeIsEditor(profile) {\n  if (profile && typeof profile.isEditor === \"boolean\") return profile.isEditor;\n  return trUp(profile === null || profile === void 0 ? void 0 : profile.birim) === \"İŞ VE SÜREÇ GELİŞTİRME\" && ALLOWED_NAMES.has(trUp((profile === null || profile === void 0 ? void 0 : profile.kullanici) || (profile === null || profile === void 0 ? void 0 : profile.email)));\n}\nexport default function InboxModern() {\n  _s();\n  const navigate = useNavigate();\n  const me = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\");\n    } catch {\n      return {};\n    }\n  }, []);\n  const myEmail = (me === null || me === void 0 ? void 0 : me.email) || \"\";\n  const myName = ((me === null || me === void 0 ? void 0 : me.kullanici) || \"\").trim();\n  const canEdit = useMemo(() => computeIsEditor(me), [me]); // SADECE editörler yazabilir\n\n  const [view, setView] = useState(\"board\"); // \"board\" | \"list\"\n  const [q, setQ] = useState(\"\");\n  const [mineOnly, setMineOnly] = useState(false);\n  const [onlySLA, setOnlySLA] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false); // kaydetme göstergesi\n  const [err, setErr] = useState(\"\");\n  const [rows, setRows] = useState([]);\n  const [active, setActive] = useState(null);\n\n  // refs for stable access in callbacks\n  const mineOnlyRef = useRef(mineOnly);\n  useEffect(() => {\n    mineOnlyRef.current = mineOnly;\n  }, [mineOnly]);\n  useEffect(() => {\n    const token = localStorage.getItem(\"auth_token\");\n    if (!token) navigate(\"/login\", {\n      replace: true\n    });\n  }, [navigate]);\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, [mineOnly, onlySLA, view]);\n\n  // Realtime\n  useEffect(() => {\n    const channel = supabase.channel(\"talepler-realtime\").on(\"postgres_changes\", {\n      event: \"*\",\n      schema: \"public\",\n      table: \"talepler\"\n    }, payload => {\n      setRows(prev => applyRealtime(prev, payload, mineOnlyRef.current, view));\n    }).subscribe();\n    return () => supabase.removeChannel(channel);\n  }, [view]);\n\n  // görünüm değişince sırala\n  useEffect(() => {\n    setRows(prev => sortRows(prev, mineOnly, view));\n  }, [mineOnly, view]);\n  async function fetchData() {\n    if (!myEmail) return;\n    setLoading(true);\n    setErr(\"\");\n    try {\n      const now = new Date();\n      let query = supabase.from(\"talepler\").select(`\n        id, baslik, durum, oncelik,\n        talep_eden_email, atanan_email,\n        talep_eden_kullanici, atanan_kullanici,\n        guncelleme_tarihi, bitis_tarihi, sla_son_tarih, aciklama,\n        kolon_sira, atanan_sira, global_sira\n      `);\n      if (view === \"list\" && !mineOnly) {\n        query = query.order(\"global_sira\", {\n          ascending: true,\n          nullsFirst: true\n        }).order(\"guncelleme_tarihi\", {\n          ascending: false\n        });\n      } else if (mineOnly) {\n        query = query.eq(\"atanan_email\", myEmail).order(\"atanan_sira\", {\n          ascending: true,\n          nullsFirst: false\n        }).order(\"guncelleme_tarihi\", {\n          ascending: false\n        });\n      } else {\n        query = query.order(\"kolon_sira\", {\n          ascending: true,\n          nullsFirst: true\n        }).order(\"guncelleme_tarihi\", {\n          ascending: false\n        });\n      }\n      if (onlySLA) {\n        const t24 = new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString();\n        query = query.lt(\"sla_son_tarih\", t24).not(\"durum\", \"in\", '(\"Tamamlandi\",\"Reddedildi\")');\n      }\n      const {\n        data,\n        error\n      } = await query.limit(500);\n      if (error) throw error;\n\n      // DB etiketi → iç KEY normalize\n      const normalized = (data || []).map(r => ({\n        ...r,\n        ...(r.durum && STATUS_TO_KEY[r.durum] ? {\n          durum: STATUS_TO_KEY[r.durum]\n        } : {})\n      }));\n      setRows(sortRows(normalized, mineOnly, view));\n    } catch (e) {\n      console.error(e);\n      setErr(\"Kayıtlar çekilemedi.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  /* ---------- helpers ---------- */\n  function groupByStatus(items) {\n    const map = Object.fromEntries(BOARD_COLUMNS.map(c => [c.key, []]));\n    items.forEach(i => {\n      (map[i.durum || \"Yeni\"] ??= []).push(i);\n    });\n    return map;\n  }\n  function recomputeAssigneeRanks(list) {\n    const byA = {};\n    list.forEach(r => {\n      if (!r.atanan_email) return;\n      (byA[r.atanan_email] ??= []).push(r);\n    });\n    Object.values(byA).forEach(arr => {\n      arr.forEach((r, idx) => {\n        r.atanan_sira = idx + 1;\n      });\n    });\n  }\n\n  // DB yazımı: KEY → DB etiketi çevirerek kaydet\n  async function persistOrder(updates) {\n    if (!canEdit) return;\n    if (!(updates !== null && updates !== void 0 && updates.length)) return;\n    const nowIso = new Date().toISOString();\n    const rowsToSave = updates.map(u => {\n      const out = {\n        id: u.id,\n        guncelleme_tarihi: nowIso\n      };\n      if (u.durum !== undefined) out.durum = STATUS_DB_LABEL[u.durum] || u.durum;\n      if (u.kolon_sira !== undefined) out.kolon_sira = u.kolon_sira;\n      if (u.atanan_sira !== undefined) out.atanan_sira = u.atanan_sira;\n      return out;\n    });\n    try {\n      setSaving(true);\n      const results = await Promise.allSettled(rowsToSave.map(({\n        id,\n        ...changes\n      }) => supabase.from(\"talepler\").update(changes).eq(\"id\", id).select(\"id\", {\n        count: \"exact\",\n        head: true\n      })));\n      const hasFailure = results.some(r => r.status === \"rejected\" || r.value && r.value.error);\n      if (hasFailure) {\n        const {\n          error\n        } = await supabase.from(\"talepler\").upsert(rowsToSave, {\n          onConflict: \"id\"\n        });\n        if (error) console.error(\"order save error (upsert)\", error);\n      }\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  /* ---------- DnD: Kanban ---------- */\n  async function onBoardDragEnd(result) {\n    if (!canEdit) return;\n    const {\n      source,\n      destination,\n      draggableId\n    } = result;\n    if (!destination) return;\n    const statusFrom = source.droppableId;\n    const statusTo = destination.droppableId;\n    const byStatus = groupByStatus([...rows]);\n    const idx = byStatus[statusFrom].findIndex(i => String(i.id) === String(draggableId));\n    if (idx === -1) return;\n    const item = byStatus[statusFrom][idx];\n    if (item.atanan_email !== myEmail) return; // sadece atanan\n\n    // optimistic\n    byStatus[statusFrom].splice(idx, 1);\n    byStatus[statusTo].splice(destination.index, 0, item);\n    const flattened = BOARD_COLUMNS.flatMap(c => byStatus[c.key]);\n    const prevById = new Map(rows.map(r => [r.id, r]));\n    const updates = [];\n    BOARD_COLUMNS.forEach(col => {\n      byStatus[col.key].forEach((it, i) => {\n        const newDurum = col.key;\n        const newKolonSira = i + 1;\n        const prev = prevById.get(it.id) || {};\n        let dirty = false;\n        if (it.durum !== newDurum) {\n          it.durum = newDurum;\n          dirty = true;\n        }\n        if (it.kolon_sira !== newKolonSira) {\n          it.kolon_sira = newKolonSira;\n          dirty = true;\n        }\n        if (dirty) updates.push({\n          id: it.id,\n          durum: newDurum,\n          kolon_sira: newKolonSira\n        });\n      });\n    });\n    recomputeAssigneeRanks(flattened);\n    flattened.forEach(it => {\n      var _prev$atanan_sira, _it$atanan_sira;\n      const prev = prevById.get(it.id) || {};\n      if (((_prev$atanan_sira = prev.atanan_sira) !== null && _prev$atanan_sira !== void 0 ? _prev$atanan_sira : null) !== ((_it$atanan_sira = it.atanan_sira) !== null && _it$atanan_sira !== void 0 ? _it$atanan_sira : null)) {\n        const u = updates.find(u => u.id === it.id);\n        if (u) u.atanan_sira = it.atanan_sira;else updates.push({\n          id: it.id,\n          atanan_sira: it.atanan_sira\n        });\n      }\n    });\n    setRows(sortRows(flattened, mineOnly, view));\n    await persistOrder(updates); // KEY → DB etiketi dönüşümü burada yapılıyor\n  }\n\n  /* ---------- DnD: Liste (global + bana atananlar) ---------- */\n  async function onListDragEnd(result) {\n    const {\n      destination,\n      draggableId\n    } = result;\n    if (!destination) return;\n    if (!mineOnly) {\n      // GLOBAL sıra: yalnızca editörler\n      if (!canEdit) return;\n      const list = [...filtered];\n      const from = list.findIndex(i => String(i.id) === String(draggableId));\n      if (from === -1) return;\n      const moved = list[from];\n      list.splice(from, 1);\n      list.splice(destination.index, 0, moved);\n      const ids = list.map(r => Number(r.id));\n\n      // optimistic: local global_sira ata\n      const orderMap = new Map(ids.map((id, i) => [String(id), i + 1]));\n      const newRows = rows.map(r => orderMap.has(String(r.id)) ? {\n        ...r,\n        global_sira: orderMap.get(String(r.id))\n      } : r);\n      setRows(sortRows(newRows, mineOnly, view));\n      setSaving(true);\n      const {\n        error\n      } = await supabase.rpc(\"set_global_order\", {\n        ids\n      });\n      setSaving(false);\n      if (error) {\n        console.error(error);\n        setErr(\"Global sıralama kaydedilemedi.\");\n      } else {\n        fetchData();\n      }\n      return;\n    }\n\n    // mineOnly: kişisel kuyruk (editör)\n    if (!canEdit) return;\n    const movedRow = rows.find(r => String(r.id) === String(draggableId));\n    if (!movedRow || movedRow.atanan_email !== myEmail) return;\n    const list = filtered.filter(r => r.atanan_email === myEmail);\n    const from = list.findIndex(i => String(i.id) === String(draggableId));\n    if (from === -1) return;\n    const moved = list[from];\n    list.splice(from, 1);\n    list.splice(destination.index, 0, moved);\n    list.forEach((r, i) => {\n      r.atanan_sira = i + 1;\n    });\n    const newRows2 = rows.map(r => {\n      const hit = list.find(x => x.id === r.id);\n      return hit ? {\n        ...r,\n        atanan_sira: hit.atanan_sira\n      } : r;\n    });\n    setRows(sortRows(newRows2, mineOnly, view));\n    const updates = list.filter(r => {\n      var _rows$find;\n      return r.id && ((_rows$find = rows.find(x => x.id === r.id)) === null || _rows$find === void 0 ? void 0 : _rows$find.atanan_sira) !== r.atanan_sira;\n    }).map(({\n      id,\n      atanan_sira\n    }) => ({\n      id,\n      atanan_sira\n    }));\n    await persistOrder(updates);\n  }\n\n  /* ---------- quick actions ---------- */\n  async function takeOwnership(id) {\n    if (!canEdit) return;\n    if (!myEmail) return;\n    const row = rows.find(r => r.id === id);\n    if (row && row.atanan_email && row.atanan_email !== myEmail) {\n      setErr(\"Bu kayıt size atanmadığı için işlem yapamazsınız.\");\n      return;\n    }\n    const myColMax = rows.filter(r => r.durum === \"SirayaAlindi\").reduce((m, r) => Math.max(m, r.kolon_sira || 0), 0) + 1;\n    const myQueueMax = rows.filter(r => r.atanan_email === myEmail).reduce((m, r) => Math.max(m, r.atanan_sira || 0), 0) + 1;\n\n    // optimistic (KEY)\n    setRows(prev => {\n      const a = prev.map(r => r.id === id ? {\n        ...r,\n        atanan_email: myEmail,\n        atanan_kullanici: myName || null,\n        durum: \"SirayaAlindi\",\n        kolon_sira: myColMax,\n        atanan_sira: myQueueMax,\n        guncelleme_tarihi: new Date().toISOString()\n      } : r);\n      return sortRows(a, mineOnly, view);\n    });\n    setSaving(true);\n    const {\n      error\n    } = await supabase.from(\"talepler\").update({\n      atanan_email: myEmail,\n      atanan_kullanici: myName || null,\n      durum: STATUS_DB_LABEL.SirayaAlindi,\n      // DB etiketi\n      kolon_sira: myColMax,\n      atanan_sira: myQueueMax,\n      guncelleme_tarihi: new Date().toISOString()\n    }).eq(\"id\", id);\n    setSaving(false);\n    if (error) {\n      console.error(error);\n      setErr(\"Bu kayıt üzerinde işlem yetkiniz yok.\");\n      fetchData(); // optimistic geri al\n    }\n  }\n  async function moveTo(id, statusKey) {\n    if (!canEdit) return;\n    const row = rows.find(r => r.id === id);\n    if (!row || row.atanan_email !== myEmail) {\n      setErr(\"Bu kayıt size atanmadığı için işlem yapamazsınız.\");\n      return;\n    }\n    const max = rows.filter(r => r.durum === statusKey).reduce((m, r) => Math.max(m, r.kolon_sira || 0), 0) + 1;\n\n    // optimistic (KEY)\n    setRows(prev => {\n      const a = prev.map(r => r.id === id ? {\n        ...r,\n        durum: statusKey,\n        kolon_sira: max,\n        guncelleme_tarihi: new Date().toISOString()\n      } : r);\n      return sortRows(a, mineOnly, view);\n    });\n    setSaving(true);\n    const {\n      error\n    } = await supabase.from(\"talepler\").update({\n      durum: STATUS_DB_LABEL[statusKey] || statusKey,\n      // DB etiketi\n      kolon_sira: max,\n      guncelleme_tarihi: new Date().toISOString()\n    }).eq(\"id\", id);\n    setSaving(false);\n    if (error) {\n      console.error(error);\n      setErr(\"Bu kayıt üzerinde işlem yetkiniz yok.\");\n      fetchData(); // optimistic düzelt\n    }\n  }\n  async function markDone(id) {\n    await moveTo(id, \"Tamamlandi\");\n  }\n  function handleLogout() {\n    localStorage.removeItem(\"auth_token\");\n    localStorage.removeItem(\"user_profile\");\n    navigate(\"/login\", {\n      replace: true\n    });\n  }\n\n  /* ---------- filter ---------- */\n  const filtered = rows.filter(r => {\n    if (!q) return true;\n    const text = `${r.id} ${r.baslik} ${r.talep_eden_email} ${r.atanan_email || \"\"} ${r.talep_eden_kullanici || \"\"} ${r.atanan_kullanici || \"\"}`.toLowerCase();\n    return text.includes(q.toLowerCase());\n  });\n  const grouped = groupByStatus(filtered);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mx\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: \"\\uD83E\\uDDED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bt\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Gelen Kutusu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: \"\\u0130\\u015F & S\\xFCre\\xE7 Geli\\u015Ftirme\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cmd\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seg\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `seg-btn ${view === \"board\" ? \"on\" : \"\"}`,\n            onClick: () => setView(\"board\"),\n            children: \"Kanban\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `seg-btn ${view === \"list\" ? \"on\" : \"\"}`,\n            onClick: () => setView(\"list\"),\n            children: \"Liste\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search\",\n            placeholder: \"Ara: #id, ba\\u015Fl\\u0131k, ki\\u015Fi\\u2026\",\n            value: q,\n            onChange: e => setQ(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toggles\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: mineOnly,\n              onChange: e => setMineOnly(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Bana atananlar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: onlySLA,\n              onChange: e => setOnlySLA(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"SLA (<24s)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/newrequest\",\n          className: \"btn primary\",\n          children: \"+ Yeni Talep\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chip\",\n          children: ((me === null || me === void 0 ? void 0 : me.kullanici) || (me === null || me === void 0 ? void 0 : me.email)) + (canEdit ? \" • editör\" : \"\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: handleLogout,\n          children: \"\\xC7\\u0131k\\u0131\\u015F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 21\n        }, this), saving && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"saving-ind\",\n          children: \"Kaydediliyor\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 13\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-alert err\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 21\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-skel\",\n      children: \"Y\\xFCkleniyor\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 17\n    }, this) : view === \"board\" ? /*#__PURE__*/_jsxDEV(DragDropContext, {\n      onDragEnd: onBoardDragEnd,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board\",\n        children: BOARD_COLUMNS.map(col => {\n          const items = grouped[col.key] || [];\n          return /*#__PURE__*/_jsxDEV(Droppable, {\n            droppableId: col.key,\n            isDropDisabled: !canEdit // yalnızca yetkililer sürükleyebilir\n            ,\n            children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              ref: provided.innerRef,\n              ...provided.droppableProps,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-head\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `dot s-${slug(col.title)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: col.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"count\",\n                  children: items.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-body\",\n                children: [items.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-empty\",\n                  children: \"Hen\\xFCz kay\\u0131t yok\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 72\n                }, this), items.map((item, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n                  draggableId: String(item.id),\n                  index: index,\n                  isDragDisabled: !canEdit || !(item.atanan_email && item.atanan_email === myEmail),\n                  children: pp => /*#__PURE__*/_jsxDEV(\"div\", {\n                    ref: pp.innerRef,\n                    ...pp.draggableProps,\n                    ...pp.dragHandleProps,\n                    children: /*#__PURE__*/_jsxDEV(Card, {\n                      data: item,\n                      onOpen: () => setActive(item),\n                      onTake: () => canEdit && takeOwnership(item.id),\n                      onMove: st => canEdit && moveTo(item.id, st),\n                      onDone: () => canEdit && markDone(item.id),\n                      me: myEmail\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 544,\n                      columnNumber: 65\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 61\n                  }, this)\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 53\n                }, this)), provided.placeholder]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 41\n            }, this)\n          }, col.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 17\n    }, this) :\n    /*#__PURE__*/\n    // LISTE GÖRÜNÜMÜ\n    _jsxDEV(DragDropContext, {\n      onDragEnd: onListDragEnd,\n      children: /*#__PURE__*/_jsxDEV(Droppable, {\n        droppableId: \"listMine\",\n        isDropDisabled: !canEdit && !mineOnly /* editör değilse global drag kapalı */,\n        children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"listv\",\n          ref: provided.innerRef,\n          ...provided.droppableProps,\n          children: [filtered.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-empty\",\n            children: \"Kay\\u0131t bulunamad\\u0131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 59\n          }, this), filtered.map((r, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n            draggableId: String(r.id),\n            index: index,\n            isDragDisabled: !canEdit && !mineOnly,\n            children: pp => {\n              var _r$atanan_sira;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: pp.innerRef,\n                ...pp.draggableProps,\n                ...pp.dragHandleProps,\n                className: \"rowv\",\n                onClick: () => setActive(r),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `pill ${PILL_COLOR[r.oncelik] || \"p3\"}`,\n                  children: r.oncelik || \"P3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge s-${slug(STATUS_DISPLAY[r.durum] || \"Yeni\")}`,\n                  children: STATUS_DISPLAY[r.durum] || \"Yeni\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-title\",\n                  children: [\"#\", r.id, \" \\u2014 \", r.baslik]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-sub\",\n                  children: [r.talep_eden_kullanici || r.talep_eden_email || \"—\", \" \\u2192 \", r.atanan_kullanici || r.atanan_email || \"—\", mineOnly && r.atanan_email === myEmail && /*#__PURE__*/_jsxDEV(\"b\", {\n                    style: {\n                      marginLeft: 8,\n                      opacity: 0.8\n                    },\n                    children: [\"(S\\u0131ra: \", (_r$atanan_sira = r.atanan_sira) !== null && _r$atanan_sira !== void 0 ? _r$atanan_sira : \"—\", \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"r-time\",\n                  children: fmtTime(r.guncelleme_tarihi)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 45\n              }, this);\n            }\n          }, r.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 37\n          }, this)), provided.placeholder, !mineOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hint\",\n            style: {\n              padding: 8,\n              opacity: 0.7\n            },\n            children: canEdit ? \"Bu listede sürüklediğin sıra herkese yansır.\" : \"Sıralamayı yalnızca yetkili kullanıcılar değiştirebilir.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 17\n    }, this), active && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drawer\",\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawer-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"drawer-close\",\n          onClick: () => setActive(null),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawer-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `pill ${PILL_COLOR[active.oncelik] || \"p3\"}`,\n            children: active.oncelik || \"P3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `badge s-${slug(STATUS_DISPLAY[active.durum] || \"Yeni\")}`,\n            children: STATUS_DISPLAY[active.durum] || \"Yeni\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 29\n          }, this), active.sla_son_tarih && new Date(active.sla_son_tarih).getTime() - Date.now() < 24 * 60 * 60 * 1000 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sla\",\n            children: \"SLA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"#\", active.id, \" \\u2014 \", active.baslik]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-sub\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0130steyen: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: active.talep_eden_kullanici || active.talep_eden_email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \\xB7 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Atanan: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: active.atanan_kullanici || active.atanan_email || \"—\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \\xB7 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"G\\xFCncellendi: \", fmtTime(active.guncelleme_tarihi)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drawer-body\",\n          children: [/*#__PURE__*/_jsxDEV(Section, {\n            title: \"A\\xE7\\u0131klama\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"desc\",\n              children: active.aciklama || \"Açıklama girilmemiş.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Section, {\n            title: \"H\\u0131zl\\u0131 \\u0130\\u015Flemler\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"act-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn ghost\",\n                onClick: () => {\n                  if (canEdit) {\n                    setActive(null);\n                    takeOwnership(active.id);\n                  }\n                },\n                disabled: !canEdit || !!active.atanan_email && active.atanan_email !== myEmail,\n                title: !canEdit ? \"Yalnızca yetkili kullanıcılar işlem yapabilir\" : active.atanan_email && active.atanan_email !== myEmail ? \"Sadece atanan işlem yapabilir\" : undefined,\n                children: \"\\xDCstlen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn ghost\",\n                onClick: () => {\n                  if (canEdit && active.atanan_email === myEmail) {\n                    setActive(null);\n                    moveTo(active.id, \"SirayaAlindi\");\n                  }\n                },\n                disabled: !canEdit || active.atanan_email !== myEmail,\n                title: !canEdit ? \"Yalnızca yetkili kullanıcılar\" : active.atanan_email !== myEmail ? \"Sadece atanan\" : undefined,\n                children: \"S\\u0131raya al\\u0131nd\\u0131\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn ghost\",\n                onClick: () => {\n                  if (canEdit && active.atanan_email === myEmail) {\n                    setActive(null);\n                    moveTo(active.id, \"IslemeAlindi\");\n                  }\n                },\n                disabled: !canEdit || active.atanan_email !== myEmail,\n                title: !canEdit ? \"Yalnızca yetkili kullanıcılar\" : active.atanan_email !== myEmail ? \"Sadece atanan\" : undefined,\n                children: \"\\u0130\\u015Fleme al\\u0131nd\\u0131\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn ghost\",\n                onClick: () => {\n                  if (canEdit && active.atanan_email === myEmail) {\n                    setActive(null);\n                    moveTo(active.id, \"TestEdiliyor\");\n                  }\n                },\n                disabled: !canEdit || active.atanan_email !== myEmail,\n                title: !canEdit ? \"Yalnızca yetkili kullanıcılar\" : active.atanan_email !== myEmail ? \"Sadece atanan\" : undefined,\n                children: \"Test ediliyor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn primary\",\n                onClick: () => {\n                  if (canEdit && active.atanan_email === myEmail) {\n                    setActive(null);\n                    markDone(active.id);\n                  }\n                },\n                disabled: !canEdit || active.atanan_email !== myEmail,\n                title: !canEdit ? \"Yalnızca yetkili kullanıcılar\" : active.atanan_email !== myEmail ? \"Sadece atanan\" : undefined,\n                children: \"\\u2713 Tamamland\\u0131\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Section, {\n            title: \"Zaman\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"kv\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Hedef Tarih:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: active.bitis_tarihi ? fmtDate(active.bitis_tarihi) : \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 67\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"SLA Son:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: active.sla_son_tarih ? fmtDate(active.sla_son_tarih) : \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawer-backdrop\",\n        onClick: () => setActive(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 714,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 460,\n    columnNumber: 9\n  }, this);\n}\n\n/* components */\n_s(InboxModern, \"dq1PpqS36hrDngWhaTIa8wENZrs=\", false, function () {\n  return [useNavigate];\n});\n_c4 = InboxModern;\nfunction Card({\n  data,\n  onOpen,\n  onTake,\n  onMove,\n  onDone,\n  me\n}) {\n  const mine = data.atanan_email && data.atanan_email === me;\n  const slaSoon = data.sla_son_tarih && new Date(data.sla_son_tarih).getTime() - Date.now() < 24 * 60 * 60 * 1000;\n  const fromLabel = data.talep_eden_kullanici || data.talep_eden_email || \"—\";\n  const toLabel = data.atanan_kullanici || data.atanan_email || \"—\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `card ${mine ? \"mine\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `pill ${PILL_COLOR[data.oncelik] || \"p3\"}`,\n        children: data.oncelik || \"P3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `badge s-${slug(STATUS_DISPLAY[data.durum] || \"Yeni\")}`,\n        children: STATUS_DISPLAY[data.durum] || \"Yeni\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 17\n      }, this), slaSoon && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sla\",\n        children: \"SLA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"icn\",\n        onClick: onOpen,\n        title: \"Detay\",\n        children: \"\\u22EF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 733,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-title\",\n      children: [\"#\", data.id, \" \\u2014 \", data.baslik]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-sub\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: fromLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: toLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 743,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"c-foot\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"time\",\n        children: fmtTime(data.guncelleme_tarihi)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"act\",\n        children: [!data.atanan_email && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn ghost xs\",\n          onClick: onTake,\n          children: \"\\xDCstlen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn ghost xs\",\n          onClick: () => mine && onMove(\"SirayaAlindi\"),\n          disabled: !mine,\n          title: !mine ? \"Sadece atanan işlem yapabilir\" : undefined,\n          children: \"S\\u0131raya al\\u0131nd\\u0131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn ghost xs\",\n          onClick: () => mine && onMove(\"IslemeAlindi\"),\n          disabled: !mine,\n          title: !mine ? \"Sadece atanan işlem yapabilir\" : undefined,\n          children: \"\\u0130\\u015Fleme al\\u0131nd\\u0131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn ghost xs\",\n          onClick: () => mine && onMove(\"TestEdiliyor\"),\n          disabled: !mine,\n          title: !mine ? \"Sadece atanan işlem yapabilir\" : undefined,\n          children: \"Test ediliyor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary xs\",\n          onClick: mine ? onDone : undefined,\n          disabled: !mine,\n          title: !mine ? \"Sadece atanan işlem yapabilir\" : undefined,\n          children: \"Tamamla\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 751,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 749,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 732,\n    columnNumber: 9\n  }, this);\n}\n_c5 = Card;\nfunction Section({\n  title,\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"sec\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sec-h\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 796,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sec-b\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 797,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 795,\n    columnNumber: 9\n  }, this);\n}\n\n/* utils */\n_c6 = Section;\nfunction slug(s) {\n  return (s || \"\").toLowerCase().replaceAll(\"ı\", \"i\").replaceAll(\"ğ\", \"g\").replaceAll(\"ş\", \"s\").replaceAll(\"ö\", \"o\").replaceAll(\"ç\", \"c\").replaceAll(\"ü\", \"u\").replace(/\\s+/g, \"-\");\n}\nfunction fmtTime(ts) {\n  try {\n    return new Date(ts).toLocaleString();\n  } catch {\n    return \"—\";\n  }\n}\nfunction fmtDate(ts) {\n  try {\n    return new Date(ts).toLocaleDateString();\n  } catch {\n    return \"—\";\n  }\n}\n\n/* ------ realtime yardımcıları ------ */\nfunction dateNum(v) {\n  try {\n    return new Date(v).getTime() || 0;\n  } catch {\n    return 0;\n  }\n}\nfunction sortRows(list, mineOnly, view) {\n  const a = [...(list || [])];\n  if (view === \"list\" && !mineOnly) {\n    a.sort((x, y) => {\n      var _x$global_sira, _y$global_sira, _x$id, _y$id;\n      const gx = (_x$global_sira = x.global_sira) !== null && _x$global_sira !== void 0 ? _x$global_sira : 1e9;\n      const gy = (_y$global_sira = y.global_sira) !== null && _y$global_sira !== void 0 ? _y$global_sira : 1e9;\n      if (gx !== gy) return gx - gy;\n      const tx = dateNum(y.guncelleme_tarihi) - dateNum(x.guncelleme_tarihi);\n      if (tx !== 0) return tx;\n      return ((_x$id = x.id) !== null && _x$id !== void 0 ? _x$id : 0) - ((_y$id = y.id) !== null && _y$id !== void 0 ? _y$id : 0);\n    });\n  } else if (mineOnly) {\n    a.sort((x, y) => {\n      var _x$atanan_sira, _y$atanan_sira, _x$id2, _y$id2;\n      const ax = (_x$atanan_sira = x.atanan_sira) !== null && _x$atanan_sira !== void 0 ? _x$atanan_sira : 1e9;\n      const ay = (_y$atanan_sira = y.atanan_sira) !== null && _y$atanan_sira !== void 0 ? _y$atanan_sira : 1e9;\n      if (ax !== ay) return ax - ay;\n      const tx = dateNum(y.guncelleme_tarihi) - dateNum(x.guncelleme_tarihi);\n      if (tx !== 0) return tx;\n      return ((_x$id2 = x.id) !== null && _x$id2 !== void 0 ? _x$id2 : 0) - ((_y$id2 = y.id) !== null && _y$id2 !== void 0 ? _y$id2 : 0);\n    });\n  } else {\n    a.sort((x, y) => {\n      var _x$kolon_sira, _y$kolon_sira, _x$id3, _y$id3;\n      const kx = (_x$kolon_sira = x.kolon_sira) !== null && _x$kolon_sira !== void 0 ? _x$kolon_sira : 1e9;\n      const ky = (_y$kolon_sira = y.kolon_sira) !== null && _y$kolon_sira !== void 0 ? _y$kolon_sira : 1e9;\n      if (kx !== ky) return kx - ky;\n      const tx = dateNum(y.guncelleme_tarihi) - dateNum(x.guncelleme_tarihi);\n      if (tx !== 0) return tx;\n      return ((_x$id3 = x.id) !== null && _x$id3 !== void 0 ? _x$id3 : 0) - ((_y$id3 = y.id) !== null && _y$id3 !== void 0 ? _y$id3 : 0);\n    });\n  }\n  return a;\n}\nfunction applyRealtime(prev, payload, mineOnly, view) {\n  const type = payload.eventType;\n  const next = [...prev];\n  if (type === \"DELETE\") {\n    return next.filter(r => {\n      var _payload$old;\n      return r.id !== ((_payload$old = payload.old) === null || _payload$old === void 0 ? void 0 : _payload$old.id);\n    });\n  }\n  const row = payload.new;\n  // normalize: DB etiketi → KEY\n  const normalized = {\n    ...row,\n    ...(row.durum && STATUS_TO_KEY[row.durum] ? {\n      durum: STATUS_TO_KEY[row.durum]\n    } : {})\n  };\n  const i = next.findIndex(r => r.id === normalized.id);\n  if (i === -1) next.push(normalized);else next[i] = {\n    ...next[i],\n    ...normalized\n  };\n  return sortRows(next, mineOnly, view);\n}\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"STATUS_TO_KEY$Object.fromEntries$Object.entries(STATUS_DB_LABEL).map\");\n$RefreshReg$(_c2, \"STATUS_TO_KEY$Object.fromEntries\");\n$RefreshReg$(_c3, \"STATUS_TO_KEY\");\n$RefreshReg$(_c4, \"InboxModern\");\n$RefreshReg$(_c5, \"Card\");\n$RefreshReg$(_c6, \"Section\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useNavigate","Link","DragDropContext","Droppable","Draggable","supabase","jsxDEV","_jsxDEV","STATUS_DB_LABEL","Yeni","SirayaAlindi","IslemeAlindi","TestEdiliyor","Tamamlandi","STATUS_TO_KEY","Object","fromEntries","_c2","entries","map","_c","k","v","_c3","STATUS_DISPLAY","BOARD_COLUMNS","key","title","PILL_COLOR","P1","P2","P3","trUp","s","trim","toLocaleUpperCase","ALLOWED_NAMES","Set","computeIsEditor","profile","isEditor","birim","has","kullanici","email","InboxModern","_s","navigate","me","JSON","parse","localStorage","getItem","myEmail","myName","canEdit","view","setView","q","setQ","mineOnly","setMineOnly","onlySLA","setOnlySLA","loading","setLoading","saving","setSaving","err","setErr","rows","setRows","active","setActive","mineOnlyRef","current","token","replace","fetchData","channel","on","event","schema","table","payload","prev","applyRealtime","subscribe","removeChannel","sortRows","now","Date","query","from","select","order","ascending","nullsFirst","eq","t24","getTime","toISOString","lt","not","data","error","limit","normalized","r","durum","e","console","groupByStatus","items","c","forEach","i","push","recomputeAssigneeRanks","list","byA","atanan_email","values","arr","idx","atanan_sira","persistOrder","updates","length","nowIso","rowsToSave","u","out","id","guncelleme_tarihi","undefined","kolon_sira","results","Promise","allSettled","changes","update","count","head","hasFailure","some","status","value","upsert","onConflict","onBoardDragEnd","result","source","destination","draggableId","statusFrom","droppableId","statusTo","byStatus","findIndex","String","item","splice","index","flattened","flatMap","prevById","Map","col","it","newDurum","newKolonSira","get","dirty","_prev$atanan_sira","_it$atanan_sira","find","onListDragEnd","filtered","moved","ids","Number","orderMap","newRows","global_sira","rpc","movedRow","filter","newRows2","hit","x","_rows$find","takeOwnership","row","myColMax","reduce","m","Math","max","myQueueMax","a","atanan_kullanici","moveTo","statusKey","markDone","handleLogout","removeItem","text","baslik","talep_eden_email","talep_eden_kullanici","toLowerCase","includes","grouped","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","onChange","target","type","checked","to","onDragEnd","isDropDisabled","provided","ref","innerRef","droppableProps","slug","isDragDisabled","pp","draggableProps","dragHandleProps","Card","onOpen","onTake","onMove","st","onDone","_r$atanan_sira","oncelik","style","marginLeft","opacity","fmtTime","padding","role","sla_son_tarih","Section","aciklama","disabled","bitis_tarihi","fmtDate","_c4","mine","slaSoon","fromLabel","toLabel","_c5","_c6","replaceAll","ts","toLocaleString","toLocaleDateString","dateNum","sort","y","_x$global_sira","_y$global_sira","_x$id","_y$id","gx","gy","tx","_x$atanan_sira","_y$atanan_sira","_x$id2","_y$id2","ax","ay","_x$kolon_sira","_y$kolon_sira","_x$id3","_y$id3","kx","ky","eventType","next","_payload$old","old","new","$RefreshReg$"],"sources":["C:/Users/Gorkem.Cadirci/talep-sistemi/src/pages/Inbox.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\r\nimport supabase from \"../supabaseClient\";\r\nimport \"./Inbox.css\";\r\n\r\n/**\r\n * NOTLAR\r\n * - Realtime için:  alter publication supabase_realtime add table public.talepler;\r\n * - (Opsiyonel) RPC: set_global_order(ids int[]) — liste görünümü global sıralama için.\r\n */\r\n\r\n/* ---- DURUM ETİKET/MAP ----\r\n   UI içinde KEY kullanıyoruz (Yeni, SirayaAlindi, ...).\r\n   DB'ye yazarken ETİKET'e çeviriyoruz (Yeni, \"Sıraya Alındı\", ...).\r\n   DB'den okurken ETİKET'i KEY'e normalize ediyoruz.\r\n*/\r\nconst STATUS_DB_LABEL = {\r\n    Yeni: \"Yeni\",\r\n    SirayaAlindi: \"Sıraya Alındı\",\r\n    IslemeAlindi: \"İşleme Alındı\",\r\n    TestEdiliyor: \"Test Ediliyor\",\r\n    Tamamlandi: \"Tamamlandı\",\r\n    // Reddedildi: \"Reddedildi\", // (DB'de varsa ekle)\r\n};\r\nconst STATUS_TO_KEY = Object.fromEntries(\r\n    Object.entries(STATUS_DB_LABEL).map(([k, v]) => [v, k])\r\n);\r\n\r\nconst STATUS_DISPLAY = {\r\n    Yeni: \"Yeni\",\r\n    SirayaAlindi: \"Sıraya Alındı\",\r\n    IslemeAlindi: \"İşleme Alındı\",\r\n    TestEdiliyor: \"Test Ediliyor\",\r\n    Tamamlandi: \"Tamamlandı\",\r\n};\r\n\r\nconst BOARD_COLUMNS = [\r\n    { key: \"Yeni\", title: \"Yeni\" },\r\n    { key: \"SirayaAlindi\", title: \"Sıraya Alındı\" },\r\n    { key: \"IslemeAlindi\", title: \"İşleme Alındı\" },\r\n    { key: \"TestEdiliyor\", title: \"Test Ediliyor\" },\r\n    { key: \"Tamamlandi\", title: \"Tamamlandı\" },\r\n];\r\n\r\nconst PILL_COLOR = { P1: \"p1\", P2: \"p2\", P3: \"p3\" };\r\n\r\n/* ---- YETKİ YARDIMCI ---- */\r\nfunction trUp(s) {\r\n    return (s || \"\").trim().toLocaleUpperCase(\"tr-TR\");\r\n}\r\nconst ALLOWED_NAMES = new Set([\"GÖRKEM ÇADIRCI\", \"FURKAN BİLGİLİ\", \"YAĞIZ EFE BULUTCU\"]);\r\nfunction computeIsEditor(profile) {\r\n    if (profile && typeof profile.isEditor === \"boolean\") return profile.isEditor;\r\n    return (\r\n        trUp(profile?.birim) === \"İŞ VE SÜREÇ GELİŞTİRME\" &&\r\n        ALLOWED_NAMES.has(trUp(profile?.kullanici || profile?.email))\r\n    );\r\n}\r\n\r\nexport default function InboxModern() {\r\n    const navigate = useNavigate();\r\n\r\n    const me = useMemo(() => {\r\n        try { return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\"); }\r\n        catch { return {}; }\r\n    }, []);\r\n    const myEmail = me?.email || \"\";\r\n    const myName = (me?.kullanici || \"\").trim();\r\n    const canEdit = useMemo(() => computeIsEditor(me), [me]); // SADECE editörler yazabilir\r\n\r\n    const [view, setView] = useState(\"board\"); // \"board\" | \"list\"\r\n    const [q, setQ] = useState(\"\");\r\n    const [mineOnly, setMineOnly] = useState(false);\r\n    const [onlySLA, setOnlySLA] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [saving, setSaving] = useState(false); // kaydetme göstergesi\r\n    const [err, setErr] = useState(\"\");\r\n    const [rows, setRows] = useState([]);\r\n    const [active, setActive] = useState(null);\r\n\r\n    // refs for stable access in callbacks\r\n    const mineOnlyRef = useRef(mineOnly);\r\n    useEffect(() => { mineOnlyRef.current = mineOnly; }, [mineOnly]);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"auth_token\");\r\n        if (!token) navigate(\"/login\", { replace: true });\r\n    }, [navigate]);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n        // eslint-disable-next-line\r\n    }, [mineOnly, onlySLA, view]);\r\n\r\n    // Realtime\r\n    useEffect(() => {\r\n        const channel = supabase\r\n            .channel(\"talepler-realtime\")\r\n            .on(\r\n                \"postgres_changes\",\r\n                { event: \"*\", schema: \"public\", table: \"talepler\" },\r\n                (payload) => {\r\n                    setRows((prev) => applyRealtime(prev, payload, mineOnlyRef.current, view));\r\n                }\r\n            )\r\n            .subscribe();\r\n        return () => supabase.removeChannel(channel);\r\n    }, [view]);\r\n\r\n    // görünüm değişince sırala\r\n    useEffect(() => {\r\n        setRows((prev) => sortRows(prev, mineOnly, view));\r\n    }, [mineOnly, view]);\r\n\r\n    async function fetchData() {\r\n        if (!myEmail) return;\r\n        setLoading(true);\r\n        setErr(\"\");\r\n        try {\r\n            const now = new Date();\r\n            let query = supabase.from(\"talepler\").select(`\r\n        id, baslik, durum, oncelik,\r\n        talep_eden_email, atanan_email,\r\n        talep_eden_kullanici, atanan_kullanici,\r\n        guncelleme_tarihi, bitis_tarihi, sla_son_tarih, aciklama,\r\n        kolon_sira, atanan_sira, global_sira\r\n      `);\r\n\r\n            if (view === \"list\" && !mineOnly) {\r\n                query = query\r\n                    .order(\"global_sira\", { ascending: true, nullsFirst: true })\r\n                    .order(\"guncelleme_tarihi\", { ascending: false });\r\n            } else if (mineOnly) {\r\n                query = query\r\n                    .eq(\"atanan_email\", myEmail)\r\n                    .order(\"atanan_sira\", { ascending: true, nullsFirst: false })\r\n                    .order(\"guncelleme_tarihi\", { ascending: false });\r\n            } else {\r\n                query = query\r\n                    .order(\"kolon_sira\", { ascending: true, nullsFirst: true })\r\n                    .order(\"guncelleme_tarihi\", { ascending: false });\r\n            }\r\n\r\n            if (onlySLA) {\r\n                const t24 = new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString();\r\n                query = query\r\n                    .lt(\"sla_son_tarih\", t24)\r\n                    .not(\"durum\", \"in\", '(\"Tamamlandi\",\"Reddedildi\")');\r\n            }\r\n\r\n            const { data, error } = await query.limit(500);\r\n            if (error) throw error;\r\n\r\n            // DB etiketi → iç KEY normalize\r\n            const normalized = (data || []).map((r) => ({\r\n                ...r,\r\n                ...(r.durum && STATUS_TO_KEY[r.durum] ? { durum: STATUS_TO_KEY[r.durum] } : {}),\r\n            }));\r\n\r\n            setRows(sortRows(normalized, mineOnly, view));\r\n        } catch (e) {\r\n            console.error(e);\r\n            setErr(\"Kayıtlar çekilemedi.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    /* ---------- helpers ---------- */\r\n    function groupByStatus(items) {\r\n        const map = Object.fromEntries(BOARD_COLUMNS.map((c) => [c.key, []]));\r\n        items.forEach((i) => {\r\n            (map[i.durum || \"Yeni\"] ??= []).push(i);\r\n        });\r\n        return map;\r\n    }\r\n\r\n    function recomputeAssigneeRanks(list) {\r\n        const byA = {};\r\n        list.forEach((r) => {\r\n            if (!r.atanan_email) return;\r\n            (byA[r.atanan_email] ??= []).push(r);\r\n        });\r\n        Object.values(byA).forEach((arr) => {\r\n            arr.forEach((r, idx) => {\r\n                r.atanan_sira = idx + 1;\r\n            });\r\n        });\r\n    }\r\n\r\n    // DB yazımı: KEY → DB etiketi çevirerek kaydet\r\n    async function persistOrder(updates) {\r\n        if (!canEdit) return;\r\n        if (!updates?.length) return;\r\n\r\n        const nowIso = new Date().toISOString();\r\n        const rowsToSave = updates.map((u) => {\r\n            const out = { id: u.id, guncelleme_tarihi: nowIso };\r\n            if (u.durum !== undefined) out.durum = STATUS_DB_LABEL[u.durum] || u.durum;\r\n            if (u.kolon_sira !== undefined) out.kolon_sira = u.kolon_sira;\r\n            if (u.atanan_sira !== undefined) out.atanan_sira = u.atanan_sira;\r\n            return out;\r\n        });\r\n\r\n        try {\r\n            setSaving(true);\r\n            const results = await Promise.allSettled(\r\n                rowsToSave.map(({ id, ...changes }) =>\r\n                    supabase\r\n                        .from(\"talepler\")\r\n                        .update(changes)\r\n                        .eq(\"id\", id)\r\n                        .select(\"id\", { count: \"exact\", head: true })\r\n                )\r\n            );\r\n\r\n            const hasFailure = results.some(\r\n                (r) => r.status === \"rejected\" || (r.value && r.value.error)\r\n            );\r\n            if (hasFailure) {\r\n                const { error } = await supabase\r\n                    .from(\"talepler\")\r\n                    .upsert(rowsToSave, { onConflict: \"id\" });\r\n                if (error) console.error(\"order save error (upsert)\", error);\r\n            }\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    }\r\n\r\n    /* ---------- DnD: Kanban ---------- */\r\n    async function onBoardDragEnd(result) {\r\n        if (!canEdit) return;\r\n        const { source, destination, draggableId } = result;\r\n        if (!destination) return;\r\n\r\n        const statusFrom = source.droppableId;\r\n        const statusTo = destination.droppableId;\r\n\r\n        const byStatus = groupByStatus([...rows]);\r\n        const idx = byStatus[statusFrom].findIndex((i) => String(i.id) === String(draggableId));\r\n        if (idx === -1) return;\r\n\r\n        const item = byStatus[statusFrom][idx];\r\n        if (item.atanan_email !== myEmail) return; // sadece atanan\r\n\r\n        // optimistic\r\n        byStatus[statusFrom].splice(idx, 1);\r\n        byStatus[statusTo].splice(destination.index, 0, item);\r\n\r\n        const flattened = BOARD_COLUMNS.flatMap((c) => byStatus[c.key]);\r\n        const prevById = new Map(rows.map((r) => [r.id, r]));\r\n\r\n        const updates = [];\r\n        BOARD_COLUMNS.forEach((col) => {\r\n            byStatus[col.key].forEach((it, i) => {\r\n                const newDurum = col.key;\r\n                const newKolonSira = i + 1;\r\n                const prev = prevById.get(it.id) || {};\r\n                let dirty = false;\r\n                if (it.durum !== newDurum) { it.durum = newDurum; dirty = true; }\r\n                if (it.kolon_sira !== newKolonSira) { it.kolon_sira = newKolonSira; dirty = true; }\r\n                if (dirty) updates.push({ id: it.id, durum: newDurum, kolon_sira: newKolonSira });\r\n            });\r\n        });\r\n\r\n        recomputeAssigneeRanks(flattened);\r\n        flattened.forEach((it) => {\r\n            const prev = prevById.get(it.id) || {};\r\n            if ((prev.atanan_sira ?? null) !== (it.atanan_sira ?? null)) {\r\n                const u = updates.find((u) => u.id === it.id);\r\n                if (u) u.atanan_sira = it.atanan_sira;\r\n                else updates.push({ id: it.id, atanan_sira: it.atanan_sira });\r\n            }\r\n        });\r\n\r\n        setRows(sortRows(flattened, mineOnly, view));\r\n        await persistOrder(updates); // KEY → DB etiketi dönüşümü burada yapılıyor\r\n    }\r\n\r\n    /* ---------- DnD: Liste (global + bana atananlar) ---------- */\r\n    async function onListDragEnd(result) {\r\n        const { destination, draggableId } = result;\r\n        if (!destination) return;\r\n\r\n        if (!mineOnly) {\r\n            // GLOBAL sıra: yalnızca editörler\r\n            if (!canEdit) return;\r\n\r\n            const list = [...filtered];\r\n            const from = list.findIndex((i) => String(i.id) === String(draggableId));\r\n            if (from === -1) return;\r\n            const moved = list[from];\r\n            list.splice(from, 1);\r\n            list.splice(destination.index, 0, moved);\r\n\r\n            const ids = list.map((r) => Number(r.id));\r\n\r\n            // optimistic: local global_sira ata\r\n            const orderMap = new Map(ids.map((id, i) => [String(id), i + 1]));\r\n            const newRows = rows.map((r) =>\r\n                orderMap.has(String(r.id)) ? { ...r, global_sira: orderMap.get(String(r.id)) } : r\r\n            );\r\n            setRows(sortRows(newRows, mineOnly, view));\r\n\r\n            setSaving(true);\r\n            const { error } = await supabase.rpc(\"set_global_order\", { ids });\r\n            setSaving(false);\r\n\r\n            if (error) {\r\n                console.error(error);\r\n                setErr(\"Global sıralama kaydedilemedi.\");\r\n            } else {\r\n                fetchData();\r\n            }\r\n            return;\r\n        }\r\n\r\n        // mineOnly: kişisel kuyruk (editör)\r\n        if (!canEdit) return;\r\n\r\n        const movedRow = rows.find((r) => String(r.id) === String(draggableId));\r\n        if (!movedRow || movedRow.atanan_email !== myEmail) return;\r\n\r\n        const list = filtered.filter((r) => r.atanan_email === myEmail);\r\n        const from = list.findIndex((i) => String(i.id) === String(draggableId));\r\n        if (from === -1) return;\r\n\r\n        const moved = list[from];\r\n        list.splice(from, 1);\r\n        list.splice(destination.index, 0, moved);\r\n\r\n        list.forEach((r, i) => { r.atanan_sira = i + 1; });\r\n\r\n        const newRows2 = rows.map((r) => {\r\n            const hit = list.find((x) => x.id === r.id);\r\n            return hit ? { ...r, atanan_sira: hit.atanan_sira } : r;\r\n        });\r\n        setRows(sortRows(newRows2, mineOnly, view));\r\n\r\n        const updates = list\r\n            .filter((r) => r.id && rows.find((x) => x.id === r.id)?.atanan_sira !== r.atanan_sira)\r\n            .map(({ id, atanan_sira }) => ({ id, atanan_sira }));\r\n\r\n        await persistOrder(updates);\r\n    }\r\n\r\n    /* ---------- quick actions ---------- */\r\n    async function takeOwnership(id) {\r\n        if (!canEdit) return;\r\n        if (!myEmail) return;\r\n        const row = rows.find((r) => r.id === id);\r\n        if (row && row.atanan_email && row.atanan_email !== myEmail) {\r\n            setErr(\"Bu kayıt size atanmadığı için işlem yapamazsınız.\");\r\n            return;\r\n        }\r\n        const myColMax =\r\n            rows.filter((r) => r.durum === \"SirayaAlindi\").reduce((m, r) => Math.max(m, r.kolon_sira || 0), 0) + 1;\r\n        const myQueueMax =\r\n            rows.filter((r) => r.atanan_email === myEmail).reduce((m, r) => Math.max(m, r.atanan_sira || 0), 0) + 1;\r\n\r\n        // optimistic (KEY)\r\n        setRows((prev) => {\r\n            const a = prev.map((r) =>\r\n                r.id === id\r\n                    ? {\r\n                        ...r,\r\n                        atanan_email: myEmail,\r\n                        atanan_kullanici: myName || null,\r\n                        durum: \"SirayaAlindi\",\r\n                        kolon_sira: myColMax,\r\n                        atanan_sira: myQueueMax,\r\n                        guncelleme_tarihi: new Date().toISOString(),\r\n                    }\r\n                    : r\r\n            );\r\n            return sortRows(a, mineOnly, view);\r\n        });\r\n\r\n        setSaving(true);\r\n        const { error } = await supabase\r\n            .from(\"talepler\")\r\n            .update({\r\n                atanan_email: myEmail,\r\n                atanan_kullanici: myName || null,\r\n                durum: STATUS_DB_LABEL.SirayaAlindi, // DB etiketi\r\n                kolon_sira: myColMax,\r\n                atanan_sira: myQueueMax,\r\n                guncelleme_tarihi: new Date().toISOString(),\r\n            })\r\n            .eq(\"id\", id);\r\n        setSaving(false);\r\n\r\n        if (error) {\r\n            console.error(error);\r\n            setErr(\"Bu kayıt üzerinde işlem yetkiniz yok.\");\r\n            fetchData(); // optimistic geri al\r\n        }\r\n    }\r\n\r\n    async function moveTo(id, statusKey) {\r\n        if (!canEdit) return;\r\n        const row = rows.find((r) => r.id === id);\r\n        if (!row || row.atanan_email !== myEmail) {\r\n            setErr(\"Bu kayıt size atanmadığı için işlem yapamazsınız.\");\r\n            return;\r\n        }\r\n        const max =\r\n            rows.filter((r) => r.durum === statusKey).reduce((m, r) => Math.max(m, r.kolon_sira || 0), 0) + 1;\r\n\r\n        // optimistic (KEY)\r\n        setRows((prev) => {\r\n            const a = prev.map((r) =>\r\n                r.id === id\r\n                    ? { ...r, durum: statusKey, kolon_sira: max, guncelleme_tarihi: new Date().toISOString() }\r\n                    : r\r\n            );\r\n            return sortRows(a, mineOnly, view);\r\n        });\r\n\r\n        setSaving(true);\r\n        const { error } = await supabase\r\n            .from(\"talepler\")\r\n            .update({\r\n                durum: STATUS_DB_LABEL[statusKey] || statusKey, // DB etiketi\r\n                kolon_sira: max,\r\n                guncelleme_tarihi: new Date().toISOString(),\r\n            })\r\n            .eq(\"id\", id);\r\n        setSaving(false);\r\n\r\n        if (error) {\r\n            console.error(error);\r\n            setErr(\"Bu kayıt üzerinde işlem yetkiniz yok.\");\r\n            fetchData(); // optimistic düzelt\r\n        }\r\n    }\r\n\r\n    async function markDone(id) {\r\n        await moveTo(id, \"Tamamlandi\");\r\n    }\r\n\r\n    function handleLogout() {\r\n        localStorage.removeItem(\"auth_token\");\r\n        localStorage.removeItem(\"user_profile\");\r\n        navigate(\"/login\", { replace: true });\r\n    }\r\n\r\n    /* ---------- filter ---------- */\r\n    const filtered = rows.filter((r) => {\r\n        if (!q) return true;\r\n        const text = `${r.id} ${r.baslik} ${r.talep_eden_email} ${r.atanan_email || \"\"} ${r.talep_eden_kullanici || \"\"} ${r.atanan_kullanici || \"\"}`.toLowerCase();\r\n        return text.includes(q.toLowerCase());\r\n    });\r\n\r\n    const grouped = groupByStatus(filtered);\r\n\r\n    return (\r\n        <div className=\"mx\">\r\n            {/* Command bar */}\r\n            <div className=\"mx-top\">\r\n                <div className=\"brand\">\r\n                    <div className=\"logo\">🧭</div>\r\n                    <div className=\"bt\">\r\n                        <h1>Gelen Kutusu</h1>\r\n                        <span className=\"muted\">İş & Süreç Geliştirme</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"cmd\">\r\n                    <div className=\"seg\">\r\n                        <button className={`seg-btn ${view === \"board\" ? \"on\" : \"\"}`} onClick={() => setView(\"board\")}>\r\n                            Kanban\r\n                        </button>\r\n                        <button className={`seg-btn ${view === \"list\" ? \"on\" : \"\"}`} onClick={() => setView(\"list\")}>\r\n                            Liste\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"search-wrap\">\r\n                        <input\r\n                            className=\"search\"\r\n                            placeholder=\"Ara: #id, başlık, kişi…\"\r\n                            value={q}\r\n                            onChange={(e) => setQ(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"toggles\">\r\n                        <label className=\"toggle\">\r\n                            <input type=\"checkbox\" checked={mineOnly} onChange={(e) => setMineOnly(e.target.checked)} />\r\n                            <span>Bana atananlar</span>\r\n                        </label>\r\n                        <label className=\"toggle\">\r\n                            <input type=\"checkbox\" checked={onlySLA} onChange={(e) => setOnlySLA(e.target.checked)} />\r\n                            <span>SLA (&lt;24s)</span>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <Link to=\"/newrequest\" className=\"btn primary\">+ Yeni Talep</Link>\r\n                    <div className=\"chip\">{(me?.kullanici || me?.email) + (canEdit ? \" • editör\" : \"\")}</div>\r\n                    <button className=\"btn danger\" onClick={handleLogout}>Çıkış</button>\r\n\r\n                    {saving && <div className=\"saving-ind\">Kaydediliyor…</div>}\r\n                </div>\r\n            </div>\r\n\r\n            {err && <div className=\"mx-alert err\">{err}</div>}\r\n\r\n            {loading ? (\r\n                <div className=\"mx-skel\">Yükleniyor…</div>\r\n            ) : view === \"board\" ? (\r\n                <DragDropContext onDragEnd={onBoardDragEnd}>\r\n                    <div className=\"board\">\r\n                        {BOARD_COLUMNS.map((col) => {\r\n                            const items = grouped[col.key] || [];\r\n                            return (\r\n                                <Droppable\r\n                                    droppableId={col.key}\r\n                                    key={col.key}\r\n                                    isDropDisabled={!canEdit} // yalnızca yetkililer sürükleyebilir\r\n                                >\r\n                                    {(provided) => (\r\n                                        <div className=\"col\" ref={provided.innerRef} {...provided.droppableProps}>\r\n                                            <div className=\"col-head\">\r\n                                                <span className={`dot s-${slug(col.title)}`}></span>\r\n                                                <h3>{col.title}</h3>\r\n                                                <span className=\"count\">{items.length}</span>\r\n                                            </div>\r\n                                            <div className=\"col-body\">\r\n                                                {items.length === 0 && <div className=\"col-empty\">Henüz kayıt yok</div>}\r\n                                                {items.map((item, index) => (\r\n                                                    <Draggable\r\n                                                        draggableId={String(item.id)}\r\n                                                        index={index}\r\n                                                        key={item.id}\r\n                                                        isDragDisabled={\r\n                                                            !canEdit || !(item.atanan_email && item.atanan_email === myEmail)\r\n                                                        }\r\n                                                    >\r\n                                                        {(pp) => (\r\n                                                            <div ref={pp.innerRef} {...pp.draggableProps} {...pp.dragHandleProps}>\r\n                                                                <Card\r\n                                                                    data={item}\r\n                                                                    onOpen={() => setActive(item)}\r\n                                                                    onTake={() => canEdit && takeOwnership(item.id)}\r\n                                                                    onMove={(st) => canEdit && moveTo(item.id, st)}\r\n                                                                    onDone={() => canEdit && markDone(item.id)}\r\n                                                                    me={myEmail}\r\n                                                                />\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </Draggable>\r\n                                                ))}\r\n                                                {provided.placeholder}\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </Droppable>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </DragDropContext>\r\n            ) : (\r\n                // LISTE GÖRÜNÜMÜ\r\n                <DragDropContext onDragEnd={onListDragEnd}>\r\n                    <Droppable\r\n                        droppableId=\"listMine\"\r\n                        isDropDisabled={!canEdit && !mineOnly /* editör değilse global drag kapalı */}\r\n                    >\r\n                        {(provided) => (\r\n                            <div className=\"listv\" ref={provided.innerRef} {...provided.droppableProps}>\r\n                                {filtered.length === 0 && <div className=\"col-empty\">Kayıt bulunamadı</div>}\r\n                                {filtered.map((r, index) => (\r\n                                    <Draggable\r\n                                        draggableId={String(r.id)}\r\n                                        index={index}\r\n                                        key={r.id}\r\n                                        isDragDisabled={!canEdit && !mineOnly}\r\n                                    >\r\n                                        {(pp) => (\r\n                                            <div\r\n                                                ref={pp.innerRef}\r\n                                                {...pp.draggableProps}\r\n                                                {...pp.dragHandleProps}\r\n                                                className=\"rowv\"\r\n                                                onClick={() => setActive(r)}\r\n                                            >\r\n                                                <span className={`pill ${PILL_COLOR[r.oncelik] || \"p3\"}`}>{r.oncelik || \"P3\"}</span>\r\n                                                <span className={`badge s-${slug(STATUS_DISPLAY[r.durum] || \"Yeni\")}`}>\r\n                                                    {STATUS_DISPLAY[r.durum] || \"Yeni\"}\r\n                                                </span>\r\n                                                <span className=\"r-title\">#{r.id} — {r.baslik}</span>\r\n                                                <span className=\"r-sub\">\r\n                                                    {(r.talep_eden_kullanici || r.talep_eden_email) || \"—\"} → {(r.atanan_kullanici || r.atanan_email) || \"—\"}\r\n                                                    {mineOnly && r.atanan_email === myEmail && (\r\n                                                        <b style={{ marginLeft: 8, opacity: 0.8 }}>\r\n                                                            (Sıra: {r.atanan_sira ?? \"—\"})\r\n                                                        </b>\r\n                                                    )}\r\n                                                </span>\r\n                                                <span className=\"r-time\">{fmtTime(r.guncelleme_tarihi)}</span>\r\n                                            </div>\r\n                                        )}\r\n                                    </Draggable>\r\n                                ))}\r\n                                {provided.placeholder}\r\n                                {!mineOnly && (\r\n                                    <div className=\"hint\" style={{ padding: 8, opacity: 0.7 }}>\r\n                                        {canEdit\r\n                                            ? \"Bu listede sürüklediğin sıra herkese yansır.\"\r\n                                            : \"Sıralamayı yalnızca yetkili kullanıcılar değiştirebilir.\"}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </Droppable>\r\n                </DragDropContext>\r\n            )}\r\n\r\n            {/* Detay çekmecesi */}\r\n            {active && (\r\n                <div className=\"drawer\" role=\"dialog\" aria-modal=\"true\">\r\n                    <div className=\"drawer-panel\">\r\n                        <button className=\"drawer-close\" onClick={() => setActive(null)}>×</button>\r\n\r\n                        <div className=\"drawer-top\">\r\n                            <span className={`pill ${PILL_COLOR[active.oncelik] || \"p3\"}`}>{active.oncelik || \"P3\"}</span>\r\n                            <span className={`badge s-${slug(STATUS_DISPLAY[active.durum] || \"Yeni\")}`}>\r\n                                {STATUS_DISPLAY[active.durum] || \"Yeni\"}\r\n                            </span>\r\n                            {active.sla_son_tarih &&\r\n                                new Date(active.sla_son_tarih).getTime() - Date.now() < 24 * 60 * 60 * 1000 && (\r\n                                    <span className=\"sla\">SLA</span>\r\n                                )}\r\n                            <h2>#{active.id} — {active.baslik}</h2>\r\n                            <div className=\"d-sub\">\r\n                                <span>İsteyen: <b>{active.talep_eden_kullanici || active.talep_eden_email}</b></span>\r\n                                <span> · </span>\r\n                                <span>Atanan: <b>{active.atanan_kullanici || active.atanan_email || \"—\"}</b></span>\r\n                                <span> · </span>\r\n                                <span>Güncellendi: {fmtTime(active.guncelleme_tarihi)}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"drawer-body\">\r\n                            <Section title=\"Açıklama\">\r\n                                <p className=\"desc\">{active.aciklama || \"Açıklama girilmemiş.\"}</p>\r\n                            </Section>\r\n\r\n                            <Section title=\"Hızlı İşlemler\">\r\n                                <div className=\"act-grid\">\r\n                                    <button\r\n                                        className=\"btn ghost\"\r\n                                        onClick={() => { if (canEdit) { setActive(null); takeOwnership(active.id); } }}\r\n                                        disabled={!canEdit || (!!active.atanan_email && active.atanan_email !== myEmail)}\r\n                                        title={\r\n                                            !canEdit ? \"Yalnızca yetkili kullanıcılar işlem yapabilir\"\r\n                                                : active.atanan_email && active.atanan_email !== myEmail\r\n                                                    ? \"Sadece atanan işlem yapabilir\"\r\n                                                    : undefined\r\n                                        }\r\n                                    >\r\n                                        Üstlen\r\n                                    </button>\r\n\r\n                                    <button\r\n                                        className=\"btn ghost\"\r\n                                        onClick={() => { if (canEdit && active.atanan_email === myEmail) { setActive(null); moveTo(active.id, \"SirayaAlindi\"); } }}\r\n                                        disabled={!canEdit || active.atanan_email !== myEmail}\r\n                                        title={!canEdit ? \"Yalnızca yetkili kullanıcılar\" : active.atanan_email !== myEmail ? \"Sadece atanan\" : undefined}\r\n                                    >\r\n                                        Sıraya alındı\r\n                                    </button>\r\n\r\n                                    <button\r\n                                        className=\"btn ghost\"\r\n                                        onClick={() => { if (canEdit && active.atanan_email === myEmail) { setActive(null); moveTo(active.id, \"IslemeAlindi\"); } }}\r\n                                        disabled={!canEdit || active.atanan_email !== myEmail}\r\n                                        title={!canEdit ? \"Yalnızca yetkili kullanıcılar\" : active.atanan_email !== myEmail ? \"Sadece atanan\" : undefined}\r\n                                    >\r\n                                        İşleme alındı\r\n                                    </button>\r\n\r\n                                    <button\r\n                                        className=\"btn ghost\"\r\n                                        onClick={() => { if (canEdit && active.atanan_email === myEmail) { setActive(null); moveTo(active.id, \"TestEdiliyor\"); } }}\r\n                                        disabled={!canEdit || active.atanan_email !== myEmail}\r\n                                        title={!canEdit ? \"Yalnızca yetkili kullanıcılar\" : active.atanan_email !== myEmail ? \"Sadece atanan\" : undefined}\r\n                                    >\r\n                                        Test ediliyor\r\n                                    </button>\r\n\r\n                                    <button\r\n                                        className=\"btn primary\"\r\n                                        onClick={() => { if (canEdit && active.atanan_email === myEmail) { setActive(null); markDone(active.id); } }}\r\n                                        disabled={!canEdit || active.atanan_email !== myEmail}\r\n                                        title={!canEdit ? \"Yalnızca yetkili kullanıcılar\" : active.atanan_email !== myEmail ? \"Sadece atanan\" : undefined}\r\n                                    >\r\n                                        ✓ Tamamlandı\r\n                                    </button>\r\n                                </div>\r\n                            </Section>\r\n\r\n                            <Section title=\"Zaman\">\r\n                                <div className=\"kv\">\r\n                                    <div><span>Hedef Tarih:</span><b>{active.bitis_tarihi ? fmtDate(active.bitis_tarihi) : \"—\"}</b></div>\r\n                                    <div><span>SLA Son:</span><b>{active.sla_son_tarih ? fmtDate(active.sla_son_tarih) : \"—\"}</b></div>\r\n                                </div>\r\n                            </Section>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"drawer-backdrop\" onClick={() => setActive(null)} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n/* components */\r\nfunction Card({ data, onOpen, onTake, onMove, onDone, me }) {\r\n    const mine = data.atanan_email && data.atanan_email === me;\r\n    const slaSoon =\r\n        data.sla_son_tarih &&\r\n        new Date(data.sla_son_tarih).getTime() - Date.now() < 24 * 60 * 60 * 1000;\r\n\r\n    const fromLabel = data.talep_eden_kullanici || data.talep_eden_email || \"—\";\r\n    const toLabel = data.atanan_kullanici || data.atanan_email || \"—\";\r\n\r\n    return (\r\n        <div className={`card ${mine ? \"mine\" : \"\"}`}>\r\n            <div className=\"c-top\">\r\n                <span className={`pill ${PILL_COLOR[data.oncelik] || \"p3\"}`}>{data.oncelik || \"P3\"}</span>\r\n                <span className={`badge s-${slug(STATUS_DISPLAY[data.durum] || \"Yeni\")}`}>\r\n                    {STATUS_DISPLAY[data.durum] || \"Yeni\"}\r\n                </span>\r\n                {slaSoon && <span className=\"sla\">SLA</span>}\r\n                <button className=\"icn\" onClick={onOpen} title=\"Detay\">⋯</button>\r\n            </div>\r\n\r\n            <div className=\"c-title\">#{data.id} — {data.baslik}</div>\r\n            <div className=\"c-sub\">\r\n                <span>{fromLabel}</span>\r\n                <span>→</span>\r\n                <span>{toLabel}</span>\r\n            </div>\r\n\r\n            <div className=\"c-foot\">\r\n                <span className=\"time\">{fmtTime(data.guncelleme_tarihi)}</span>\r\n                <div className=\"act\">\r\n                    {!data.atanan_email && (\r\n                        <button className=\"btn ghost xs\" onClick={onTake}>Üstlen</button>\r\n                    )}\r\n                    <button\r\n                        className=\"btn ghost xs\"\r\n                        onClick={() => mine && onMove(\"SirayaAlindi\")}\r\n                        disabled={!mine}\r\n                        title={!mine ? \"Sadece atanan işlem yapabilir\" : undefined}\r\n                    >\r\n                        Sıraya alındı\r\n                    </button>\r\n                    <button\r\n                        className=\"btn ghost xs\"\r\n                        onClick={() => mine && onMove(\"IslemeAlindi\")}\r\n                        disabled={!mine}\r\n                        title={!mine ? \"Sadece atanan işlem yapabilir\" : undefined}\r\n                    >\r\n                        İşleme alındı\r\n                    </button>\r\n                    <button\r\n                        className=\"btn ghost xs\"\r\n                        onClick={() => mine && onMove(\"TestEdiliyor\")}\r\n                        disabled={!mine}\r\n                        title={!mine ? \"Sadece atanan işlem yapabilir\" : undefined}\r\n                    >\r\n                        Test ediliyor\r\n                    </button>\r\n                    <button\r\n                        className=\"btn primary xs\"\r\n                        onClick={mine ? onDone : undefined}\r\n                        disabled={!mine}\r\n                        title={!mine ? \"Sadece atanan işlem yapabilir\" : undefined}\r\n                    >\r\n                        Tamamla\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Section({ title, children }) {\r\n    return (\r\n        <section className=\"sec\">\r\n            <div className=\"sec-h\"><h4>{title}</h4></div>\r\n            <div className=\"sec-b\">{children}</div>\r\n        </section>\r\n    );\r\n}\r\n\r\n/* utils */\r\nfunction slug(s) {\r\n    return (s || \"\")\r\n        .toLowerCase()\r\n        .replaceAll(\"ı\", \"i\")\r\n        .replaceAll(\"ğ\", \"g\")\r\n        .replaceAll(\"ş\", \"s\")\r\n        .replaceAll(\"ö\", \"o\")\r\n        .replaceAll(\"ç\", \"c\")\r\n        .replaceAll(\"ü\", \"u\")\r\n        .replace(/\\s+/g, \"-\");\r\n}\r\nfunction fmtTime(ts) {\r\n    try { return new Date(ts).toLocaleString(); } catch { return \"—\"; }\r\n}\r\nfunction fmtDate(ts) {\r\n    try { return new Date(ts).toLocaleDateString(); } catch { return \"—\"; }\r\n}\r\n\r\n/* ------ realtime yardımcıları ------ */\r\nfunction dateNum(v) {\r\n    try { return new Date(v).getTime() || 0; } catch { return 0; }\r\n}\r\n\r\nfunction sortRows(list, mineOnly, view) {\r\n    const a = [...(list || [])];\r\n    if (view === \"list\" && !mineOnly) {\r\n        a.sort((x, y) => {\r\n            const gx = x.global_sira ?? 1e9;\r\n            const gy = y.global_sira ?? 1e9;\r\n            if (gx !== gy) return gx - gy;\r\n            const tx = dateNum(y.guncelleme_tarihi) - dateNum(x.guncelleme_tarihi);\r\n            if (tx !== 0) return tx;\r\n            return (x.id ?? 0) - (y.id ?? 0);\r\n        });\r\n    } else if (mineOnly) {\r\n        a.sort((x, y) => {\r\n            const ax = x.atanan_sira ?? 1e9;\r\n            const ay = y.atanan_sira ?? 1e9;\r\n            if (ax !== ay) return ax - ay;\r\n            const tx = dateNum(y.guncelleme_tarihi) - dateNum(x.guncelleme_tarihi);\r\n            if (tx !== 0) return tx;\r\n            return (x.id ?? 0) - (y.id ?? 0);\r\n        });\r\n    } else {\r\n        a.sort((x, y) => {\r\n            const kx = x.kolon_sira ?? 1e9;\r\n            const ky = y.kolon_sira ?? 1e9;\r\n            if (kx !== ky) return kx - ky;\r\n            const tx = dateNum(y.guncelleme_tarihi) - dateNum(x.guncelleme_tarihi);\r\n            if (tx !== 0) return tx;\r\n            return (x.id ?? 0) - (y.id ?? 0);\r\n        });\r\n    }\r\n    return a;\r\n}\r\n\r\nfunction applyRealtime(prev, payload, mineOnly, view) {\r\n    const type = payload.eventType;\r\n    const next = [...prev];\r\n    if (type === \"DELETE\") {\r\n        return next.filter((r) => r.id !== payload.old?.id);\r\n    }\r\n    const row = payload.new;\r\n    // normalize: DB etiketi → KEY\r\n    const normalized = {\r\n        ...row,\r\n        ...(row.durum && STATUS_TO_KEY[row.durum] ? { durum: STATUS_TO_KEY[row.durum] } : {}),\r\n    };\r\n    const i = next.findIndex((r) => r.id === normalized.id);\r\n    if (i === -1) next.push(normalized);\r\n    else next[i] = { ...next[i], ...normalized };\r\n    return sortRows(next, mineOnly, view);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}