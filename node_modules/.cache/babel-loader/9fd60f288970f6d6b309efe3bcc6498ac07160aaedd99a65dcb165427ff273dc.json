{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gorkem.Cadirci\\\\talep-sistemi\\\\src\\\\pages\\\\Requests.js\",\n  _s = $RefreshSig$();\n// src/pages/Requests.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport supabase from \"../supabaseClient\";\nimport \"./Requests.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_LABEL = {\n  Yeni: \"Yeni\",\n  SirayaAlindi: \"SÄ±raya AlÄ±ndÄ±\",\n  IslemeAlindi: \"Ä°ÅŸleme AlÄ±ndÄ±\",\n  TestEdiliyor: \"Test Ediliyor\",\n  Tamamlandi: \"TamamlandÄ±\"\n};\n\n// DurumlarÄ±n gÃ¶rÃ¼nmesi/sÄ±ralanmasÄ± iÃ§in sabit sÄ±ra (Inbox ile uyumlu)\nconst STATUS_ORDER = [\"Yeni\", \"SirayaAlindi\", \"IslemeAlindi\", \"TestEdiliyor\", \"Tamamlandi\"];\nconst statusRank = s => {\n  const i = STATUS_ORDER.indexOf(s);\n  return i === -1 ? 999 : i;\n};\n\n// Bu kullanÄ±cÄ±lar iÃ§in Requests ekranÄ±nda \"Talep Listesi\" butonu gÃ¶sterilir\nconst INBOX_ALLOWED_USERS = [\"GÃ–RKEM Ã‡ADIRCI\", \"FURKAN BÄ°LGÄ°LÄ°\", \"YAÄžIZ EFE BULUTCU\"];\nexport default function Requests() {\n  _s();\n  const navigate = useNavigate();\n\n  // profil\n  const profile = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\");\n    } catch {\n      return {};\n    }\n  }, []);\n  const userEmail = (profile === null || profile === void 0 ? void 0 : profile.email) || \"\";\n  const userName = (profile === null || profile === void 0 ? void 0 : profile.kullanici) || userEmail;\n\n  // Bu kullanÄ±cÄ±lar \"Talep Listesi\" butonunu gÃ¶rÃ¼r\n  const canSeeInboxButton = INBOX_ALLOWED_USERS.includes(((profile === null || profile === void 0 ? void 0 : profile.kullanici) || \"\").trim());\n\n  // state\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [q, setQ] = useState(\"\");\n  const [onlyOpen, setOnlyOpen] = useState(false); // tamamlananlarÄ± gizle\n\n  useEffect(() => {\n    // auth yoksa login'e\n    if (!localStorage.getItem(\"auth_token\")) {\n      navigate(\"/login\", {\n        replace: true\n      });\n      return;\n    }\n    if (userEmail) {\n      fetchData();\n    } else {\n      setLoading(false);\n      setError(\"KullanÄ±cÄ± e-postasÄ± bulunamadÄ±.\");\n    }\n    // eslint-disable-next-line\n  }, [userEmail, onlyOpen]);\n  async function fetchData() {\n    try {\n      setLoading(true);\n      setError(\"\");\n      let query = supabase.from(\"talepler\").select(`\n          id, baslik, aciklama, oncelik, durum,\n          talep_eden_email, atanan_email,\n          guncelleme_tarihi, bitis_tarihi, sla_son_tarih,\n          kolon_sira, atanan_sira, global_sira,\n          talep_eden_kullanici, atanan_kullanici\n        `).eq(\"talep_eden_email\", userEmail);\n      if (onlyOpen) {\n        // Tamamlandi/Reddedildi dÄ±ÅŸÄ±ndakiler\n        query = query.not(\"durum\", \"in\", '(\"Tamamlandi\",\"Reddedildi\")');\n      }\n\n      // Sunucu tarafÄ±nda kaba bir sÄ±ralama\n      query = query.order(\"guncelleme_tarihi\", {\n        ascending: false\n      });\n      const {\n        data,\n        error\n      } = await query;\n      if (error) throw error;\n      setRows(data || []);\n    } catch (err) {\n      console.error(\"fetch error (Supabase):\", err);\n      setError(\"Talepler alÄ±namadÄ±.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Arama filtresi\n  const filtered = rows.filter(r => {\n    if (!q) return true;\n    const hay = `${r.id} ${r.baslik} ${r.aciklama || \"\"} ${r.talep_eden_kullanici || \"\"} ${r.atanan_kullanici || \"\"} ${r.durum || \"\"}`.toLowerCase();\n    return hay.includes(q.toLowerCase());\n  });\n\n  // SÄ±ralama: Durum â†’ (SÄ±raya AlÄ±ndÄ± ise) KiÅŸisel sÄ±ra â†’ Kolon sÄ±rasÄ± â†’ Son gÃ¼ncelleme (desc) â†’ id\n  function dateNum(v) {\n    try {\n      return new Date(v).getTime() || 0;\n    } catch {\n      return 0;\n    }\n  }\n  const sorted = [...filtered].sort((a, b) => {\n    var _a$atanan_sira, _b$atanan_sira, _a$kolon_sira, _b$kolon_sira, _a$id, _b$id;\n    const sa = statusRank(a.durum),\n      sb = statusRank(b.durum);\n    if (sa !== sb) return sa - sb;\n\n    // YalnÄ±zca SÄ±raya AlÄ±ndÄ± durumunda atanan_sira ile sÄ±rala; diÄŸer durumlarda etkisiz\n    const qa = a.durum === \"SirayaAlindi\" ? (_a$atanan_sira = a.atanan_sira) !== null && _a$atanan_sira !== void 0 ? _a$atanan_sira : 1e9 : 1e9;\n    const qb = b.durum === \"SirayaAlindi\" ? (_b$atanan_sira = b.atanan_sira) !== null && _b$atanan_sira !== void 0 ? _b$atanan_sira : 1e9 : 1e9;\n    if (qa !== qb) return qa - qb;\n    const ka = (_a$kolon_sira = a.kolon_sira) !== null && _a$kolon_sira !== void 0 ? _a$kolon_sira : 1e9;\n    const kb = (_b$kolon_sira = b.kolon_sira) !== null && _b$kolon_sira !== void 0 ? _b$kolon_sira : 1e9;\n    if (ka !== kb) return ka - kb;\n    const ta = dateNum(b.guncelleme_tarihi) - dateNum(a.guncelleme_tarihi);\n    if (ta !== 0) return ta;\n    return ((_a$id = a.id) !== null && _a$id !== void 0 ? _a$id : 0) - ((_b$id = b.id) !== null && _b$id !== void 0 ? _b$id : 0);\n  });\n  function fmtDateTime(ts) {\n    if (!ts) return \"â€”\";\n    try {\n      return new Date(ts).toLocaleString();\n    } catch {\n      return ts;\n    }\n  }\n  function handleLogout() {\n    const ok = window.confirm(\"Oturumu kapatmak istediÄŸinize emin misiniz?\");\n    if (!ok) return;\n    localStorage.removeItem(\"auth_token\");\n    localStorage.removeItem(\"user_profile\");\n    [\"nr_title\", \"nr_desc\", \"nr_prio\", \"nr_due\", \"nr_assignee\"].forEach(k => localStorage.removeItem(k));\n    navigate(\"/login\", {\n      replace: true\n    });\n  }\n\n  // SÄ±ra No gÃ¶rÃ¼nÃ¼mÃ¼: yalnÄ±zca SÄ±raya AlÄ±ndÄ± durumunda gÃ¶ster; aksi halde â€”\n  const renderQueueNo = r => r.durum === \"SirayaAlindi\" && Number.isFinite(Number(r.atanan_sira)) ? r.atanan_sira : \"â€”\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rq\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rq-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: \"\\uD83D\\uDCCB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bt\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Taleplerim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: userName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cmd\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search\",\n            placeholder: \"Ara: #id, ba\\u015Fl\\u0131k, ki\\u015Fi\\u2026\",\n            value: q,\n            onChange: e => setQ(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), canSeeInboxButton && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/inbox\",\n          className: \"btn ghost\",\n          title: \"Kendi gelen kutunu a\\xE7\",\n          children: \"Talep Listesi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: onlyOpen,\n            onChange: e => setOnlyOpen(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Devam edenler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/newrequest\",\n          className: \"btn primary\",\n          children: \"+ Yeni Talep\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chip\",\n          title: userEmail,\n          children: userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: handleLogout,\n          children: \"\\xC7\\u0131k\\u0131\\u015F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rq-body\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rq-skel\",\n        children: \"Y\\xFCkleniyor\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 29\n      }, this), error && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rq-alert err\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 39\n      }, this), !loading && !error && sorted.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Hen\\xFCz talebiniz yok.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/newrequest\",\n          className: \"btn primary\",\n          children: \"Yeni Talep Olu\\u015Ftur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }, this), !loading && !error && sorted.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"rq-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 72\n                },\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Ba\\u015Fl\\u0131k\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 120\n                },\n                children: \"Durum\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 90\n                },\n                children: \"\\xD6ncelik\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 80\n                },\n                children: \"S\\u0131ra\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 200\n                },\n                children: \"Atanan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 190\n                },\n                children: \"G\\xFCncelleme\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: sorted.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"mono\",\n                children: [\"# \", r.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"title\",\n                children: r.baslik\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge s-${(STATUS_LABEL[r.durum] || \"Yeni\").toLowerCase().replace(/\\s+/g, \"-\")}`,\n                  children: STATUS_LABEL[r.durum] || \"Yeni\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `pill ${String(r.oncelik || \"P3\").toLowerCase()}`,\n                  children: r.oncelik || \"P3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"mono\",\n                children: renderQueueNo(r)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: r.atanan_kullanici || r.atanan_email || \"â€”\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"mono\",\n                children: fmtDateTime(r.guncelleme_tarihi)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 41\n              }, this)]\n            }, r.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pill p1\",\n            children: \"P1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pill p2\",\n            children: \"P2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pill p3\",\n            children: \"P3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 9\n  }, this);\n}\n_s(Requests, \"a1OO7ThvLHj3T9FbMxDrRNRjUiU=\", false, function () {\n  return [useNavigate];\n});\n_c = Requests;\nvar _c;\n$RefreshReg$(_c, \"Requests\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","Link","supabase","jsxDEV","_jsxDEV","STATUS_LABEL","Yeni","SirayaAlindi","IslemeAlindi","TestEdiliyor","Tamamlandi","STATUS_ORDER","statusRank","s","i","indexOf","INBOX_ALLOWED_USERS","Requests","_s","navigate","profile","JSON","parse","localStorage","getItem","userEmail","email","userName","kullanici","canSeeInboxButton","includes","trim","rows","setRows","loading","setLoading","error","setError","q","setQ","onlyOpen","setOnlyOpen","replace","fetchData","query","from","select","eq","not","order","ascending","data","err","console","filtered","filter","r","hay","id","baslik","aciklama","talep_eden_kullanici","atanan_kullanici","durum","toLowerCase","dateNum","v","Date","getTime","sorted","sort","a","b","_a$atanan_sira","_b$atanan_sira","_a$kolon_sira","_b$kolon_sira","_a$id","_b$id","sa","sb","qa","atanan_sira","qb","ka","kolon_sira","kb","ta","guncelleme_tarihi","fmtDateTime","ts","toLocaleString","handleLogout","ok","window","confirm","removeItem","forEach","k","renderQueueNo","Number","isFinite","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","to","title","type","checked","onClick","length","style","width","map","String","oncelik","atanan_email","_c","$RefreshReg$"],"sources":["C:/Users/Gorkem.Cadirci/talep-sistemi/src/pages/Requests.js"],"sourcesContent":["// src/pages/Requests.jsx\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport supabase from \"../supabaseClient\";\r\nimport \"./Requests.css\";\r\n\r\nconst STATUS_LABEL = {\r\n    Yeni: \"Yeni\",\r\n    SirayaAlindi: \"SÄ±raya AlÄ±ndÄ±\",\r\n    IslemeAlindi: \"Ä°ÅŸleme AlÄ±ndÄ±\",\r\n    TestEdiliyor: \"Test Ediliyor\",\r\n    Tamamlandi: \"TamamlandÄ±\",\r\n};\r\n\r\n// DurumlarÄ±n gÃ¶rÃ¼nmesi/sÄ±ralanmasÄ± iÃ§in sabit sÄ±ra (Inbox ile uyumlu)\r\nconst STATUS_ORDER = [\"Yeni\", \"SirayaAlindi\", \"IslemeAlindi\", \"TestEdiliyor\", \"Tamamlandi\"];\r\nconst statusRank = (s) => {\r\n    const i = STATUS_ORDER.indexOf(s);\r\n    return i === -1 ? 999 : i;\r\n};\r\n\r\n// Bu kullanÄ±cÄ±lar iÃ§in Requests ekranÄ±nda \"Talep Listesi\" butonu gÃ¶sterilir\r\nconst INBOX_ALLOWED_USERS = [\"GÃ–RKEM Ã‡ADIRCI\", \"FURKAN BÄ°LGÄ°LÄ°\", \"YAÄžIZ EFE BULUTCU\"];\r\n\r\nexport default function Requests() {\r\n    const navigate = useNavigate();\r\n\r\n    // profil\r\n    const profile = useMemo(() => {\r\n        try {\r\n            return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\");\r\n        } catch {\r\n            return {};\r\n        }\r\n    }, []);\r\n    const userEmail = profile?.email || \"\";\r\n    const userName = profile?.kullanici || userEmail;\r\n\r\n    // Bu kullanÄ±cÄ±lar \"Talep Listesi\" butonunu gÃ¶rÃ¼r\r\n    const canSeeInboxButton = INBOX_ALLOWED_USERS.includes((profile?.kullanici || \"\").trim());\r\n\r\n    // state\r\n    const [rows, setRows] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [q, setQ] = useState(\"\");\r\n    const [onlyOpen, setOnlyOpen] = useState(false); // tamamlananlarÄ± gizle\r\n\r\n    useEffect(() => {\r\n        // auth yoksa login'e\r\n        if (!localStorage.getItem(\"auth_token\")) {\r\n            navigate(\"/login\", { replace: true });\r\n            return;\r\n        }\r\n        if (userEmail) {\r\n            fetchData();\r\n        } else {\r\n            setLoading(false);\r\n            setError(\"KullanÄ±cÄ± e-postasÄ± bulunamadÄ±.\");\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [userEmail, onlyOpen]);\r\n\r\n    async function fetchData() {\r\n        try {\r\n            setLoading(true);\r\n            setError(\"\");\r\n\r\n            let query = supabase\r\n                .from(\"talepler\")\r\n                .select(`\r\n          id, baslik, aciklama, oncelik, durum,\r\n          talep_eden_email, atanan_email,\r\n          guncelleme_tarihi, bitis_tarihi, sla_son_tarih,\r\n          kolon_sira, atanan_sira, global_sira,\r\n          talep_eden_kullanici, atanan_kullanici\r\n        `)\r\n                .eq(\"talep_eden_email\", userEmail);\r\n\r\n            if (onlyOpen) {\r\n                // Tamamlandi/Reddedildi dÄ±ÅŸÄ±ndakiler\r\n                query = query.not(\"durum\", \"in\", '(\"Tamamlandi\",\"Reddedildi\")');\r\n            }\r\n\r\n            // Sunucu tarafÄ±nda kaba bir sÄ±ralama\r\n            query = query.order(\"guncelleme_tarihi\", { ascending: false });\r\n\r\n            const { data, error } = await query;\r\n            if (error) throw error;\r\n\r\n            setRows(data || []);\r\n        } catch (err) {\r\n            console.error(\"fetch error (Supabase):\", err);\r\n            setError(\"Talepler alÄ±namadÄ±.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    // Arama filtresi\r\n    const filtered = rows.filter((r) => {\r\n        if (!q) return true;\r\n        const hay = `${r.id} ${r.baslik} ${r.aciklama || \"\"} ${r.talep_eden_kullanici || \"\"} ${r.atanan_kullanici || \"\"} ${r.durum || \"\"}`.toLowerCase();\r\n        return hay.includes(q.toLowerCase());\r\n    });\r\n\r\n    // SÄ±ralama: Durum â†’ (SÄ±raya AlÄ±ndÄ± ise) KiÅŸisel sÄ±ra â†’ Kolon sÄ±rasÄ± â†’ Son gÃ¼ncelleme (desc) â†’ id\r\n    function dateNum(v) {\r\n        try {\r\n            return new Date(v).getTime() || 0;\r\n        } catch {\r\n            return 0;\r\n        }\r\n    }\r\n    const sorted = [...filtered].sort((a, b) => {\r\n        const sa = statusRank(a.durum),\r\n            sb = statusRank(b.durum);\r\n        if (sa !== sb) return sa - sb;\r\n\r\n        // YalnÄ±zca SÄ±raya AlÄ±ndÄ± durumunda atanan_sira ile sÄ±rala; diÄŸer durumlarda etkisiz\r\n        const qa = a.durum === \"SirayaAlindi\" ? (a.atanan_sira ?? 1e9) : 1e9;\r\n        const qb = b.durum === \"SirayaAlindi\" ? (b.atanan_sira ?? 1e9) : 1e9;\r\n        if (qa !== qb) return qa - qb;\r\n\r\n        const ka = a.kolon_sira ?? 1e9;\r\n        const kb = b.kolon_sira ?? 1e9;\r\n        if (ka !== kb) return ka - kb;\r\n\r\n        const ta = dateNum(b.guncelleme_tarihi) - dateNum(a.guncelleme_tarihi);\r\n        if (ta !== 0) return ta;\r\n\r\n        return (a.id ?? 0) - (b.id ?? 0);\r\n    });\r\n\r\n    function fmtDateTime(ts) {\r\n        if (!ts) return \"â€”\";\r\n        try {\r\n            return new Date(ts).toLocaleString();\r\n        } catch {\r\n            return ts;\r\n        }\r\n    }\r\n\r\n    function handleLogout() {\r\n        const ok = window.confirm(\"Oturumu kapatmak istediÄŸinize emin misiniz?\");\r\n        if (!ok) return;\r\n        localStorage.removeItem(\"auth_token\");\r\n        localStorage.removeItem(\"user_profile\");\r\n        [\"nr_title\", \"nr_desc\", \"nr_prio\", \"nr_due\", \"nr_assignee\"].forEach((k) => localStorage.removeItem(k));\r\n        navigate(\"/login\", { replace: true });\r\n    }\r\n\r\n    // SÄ±ra No gÃ¶rÃ¼nÃ¼mÃ¼: yalnÄ±zca SÄ±raya AlÄ±ndÄ± durumunda gÃ¶ster; aksi halde â€”\r\n    const renderQueueNo = (r) =>\r\n        r.durum === \"SirayaAlindi\" && Number.isFinite(Number(r.atanan_sira)) ? r.atanan_sira : \"â€”\";\r\n\r\n    return (\r\n        <div className=\"rq\">\r\n            {/* Ãœst bar */}\r\n            <div className=\"rq-top\">\r\n                <div className=\"brand\">\r\n                    <div className=\"logo\">ðŸ“‹</div>\r\n                    <div className=\"bt\">\r\n                        <h1>Taleplerim</h1>\r\n                        <span className=\"muted\">{userName}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"cmd\">\r\n                    <div className=\"search-wrap\">\r\n                        <input\r\n                            className=\"search\"\r\n                            placeholder=\"Ara: #id, baÅŸlÄ±k, kiÅŸiâ€¦\"\r\n                            value={q}\r\n                            onChange={(e) => setQ(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* YalnÄ±zca yetkili kullanÄ±cÄ±lar iÃ§in Talep Listesi (Inbox) kÄ±sayolu */}\r\n                    {canSeeInboxButton && (\r\n                        <Link to=\"/inbox\" className=\"btn ghost\" title=\"Kendi gelen kutunu aÃ§\">\r\n                            Talep Listesi\r\n                        </Link>\r\n                    )}\r\n\r\n                    <label className=\"toggle\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            checked={onlyOpen}\r\n                            onChange={(e) => setOnlyOpen(e.target.checked)}\r\n                        />\r\n                        <span>Devam edenler</span>\r\n                    </label>\r\n\r\n                    <Link to=\"/newrequest\" className=\"btn primary\">\r\n                        + Yeni Talep\r\n                    </Link>\r\n\r\n                    {/* Chip + Ã‡Ä±kÄ±ÅŸ â€” burada gÃ¶rÃ¼nÃ¼r */}\r\n                    <div className=\"chip\" title={userEmail}>\r\n                        {userName}\r\n                    </div>\r\n                    <button className=\"btn danger\" onClick={handleLogout}>\r\n                        Ã‡Ä±kÄ±ÅŸ\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Ä°Ã§erik */}\r\n            <div className=\"rq-body\">\r\n                {loading && <div className=\"rq-skel\">YÃ¼kleniyorâ€¦</div>}\r\n                {error && !loading && <div className=\"rq-alert err\">{error}</div>}\r\n\r\n                {!loading && !error && sorted.length === 0 && (\r\n                    <div className=\"empty\">\r\n                        <p>HenÃ¼z talebiniz yok.</p>\r\n                        <Link to=\"/newrequest\" className=\"btn primary\">\r\n                            Yeni Talep OluÅŸtur\r\n                        </Link>\r\n                    </div>\r\n                )}\r\n\r\n                {!loading && !error && sorted.length > 0 && (\r\n                    <div className=\"card\">\r\n                        <table className=\"rq-table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style={{ width: 72 }}>ID</th>\r\n                                    <th>BaÅŸlÄ±k</th>\r\n                                    <th style={{ width: 120 }}>Durum</th>\r\n                                    <th style={{ width: 90 }}>Ã–ncelik</th>\r\n                                    <th style={{ width: 80 }}>SÄ±ra</th>\r\n                                    <th style={{ width: 200 }}>Atanan</th>\r\n                                    <th style={{ width: 190 }}>GÃ¼ncelleme</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {sorted.map((r) => (\r\n                                    <tr key={r.id}>\r\n                                        <td className=\"mono\"># {r.id}</td>\r\n                                        <td className=\"title\">{r.baslik}</td>\r\n                                        <td>\r\n                                            <span\r\n                                                className={`badge s-${(STATUS_LABEL[r.durum] || \"Yeni\")\r\n                                                    .toLowerCase()\r\n                                                    .replace(/\\s+/g, \"-\")}`}\r\n                                            >\r\n                                                {STATUS_LABEL[r.durum] || \"Yeni\"}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td>\r\n                                            <span className={`pill ${String(r.oncelik || \"P3\").toLowerCase()}`}>\r\n                                                {r.oncelik || \"P3\"}\r\n                                            </span>\r\n                                        </td>\r\n                                        {/* KÄ°ÅžÄ°SEL SIRA: yalnÄ±zca SÄ±raya AlÄ±ndÄ± durumunda gÃ¶ster */}\r\n                                        <td className=\"mono\">{renderQueueNo(r)}</td>\r\n                                        <td>{r.atanan_kullanici || r.atanan_email || \"â€”\"}</td>\r\n                                        <td className=\"mono\">{fmtDateTime(r.guncelleme_tarihi)}</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <div className=\"legend\">\r\n                            <span className=\"pill p1\">P1</span>\r\n                            <span className=\"pill p2\">P2</span>\r\n                            <span className=\"pill p3\">P3</span>\r\n                            <span className=\"muted\">\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}