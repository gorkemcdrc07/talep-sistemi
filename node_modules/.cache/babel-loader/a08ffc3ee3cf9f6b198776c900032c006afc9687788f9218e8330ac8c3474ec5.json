{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gorkem.Cadirci\\\\talep-sistemi\\\\src\\\\pages\\\\Inbox.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport supabase from \"../supabaseClient\";\nimport \"./Inbox.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TABS = [{\n  key: \"incoming\",\n  label: \"Gelen (Atanmamış)\"\n}, {\n  key: \"assigned\",\n  label: \"Bana Atananlar\"\n}, {\n  key: \"approvals\",\n  label: \"Onayımda\"\n}, {\n  key: \"sla\",\n  label: \"SLA Riski (<24s)\"\n}];\nexport default function Inbox() {\n  _s();\n  const me = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\");\n    } catch {\n      return {};\n    }\n  }, []);\n  const myEmail = me === null || me === void 0 ? void 0 : me.email;\n  const [tab, setTab] = useState(\"incoming\");\n  const [loading, setLoading] = useState(false);\n  const [rows, setRows] = useState([]);\n  const [err, setErr] = useState(\"\");\n  useEffect(() => {\n    fetchData(); /* eslint-disable-next-line */\n  }, [tab]);\n  async function fetchData() {\n    if (!myEmail) return;\n    setErr(\"\");\n    setLoading(true);\n    try {\n      const now = new Date();\n      let q = supabase.from(\"requests\").select(`\n        id, title, status, priority, requester_email, assignee_email,\n        updated_at, due_at, sla_deadline_at\n      `).order(\"updated_at\", {\n        ascending: false\n      }).limit(100);\n      if (tab === \"incoming\") {\n        q = q.is(\"assignee_email\", null).eq(\"status\", \"Yeni\");\n      } else if (tab === \"assigned\") {\n        q = q.eq(\"assignee_email\", myEmail).in(\"status\", [\"İnceleme\", \"Atandı\", \"Çalışılıyor\", \"Beklemede\"]);\n      } else if (tab === \"sla\") {\n        const t24 = new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString();\n        q = q.eq(\"assignee_email\", myEmail).lt(\"sla_deadline_at\", t24).not(\"status\", \"in\", [\"Tamamlandı\", \"Reddedildi\"]);\n      } else if (tab === \"approvals\") {\n        // onaylar approvals tablosundan\n        const {\n          data: approvals,\n          error\n        } = await supabase.from(\"approvals\").select(\"request_id, decision\").eq(\"approver_email\", myEmail).eq(\"decision\", \"pending\").limit(200);\n        if (error) throw error;\n        const ids = (approvals === null || approvals === void 0 ? void 0 : approvals.map(a => a.request_id)) || [];\n        if (ids.length === 0) {\n          setRows([]);\n          setLoading(false);\n          return;\n        }\n        const {\n          data: reqs,\n          error: e2\n        } = await supabase.from(\"requests\").select(`\n            id, title, status, priority, requester_email, assignee_email,\n            updated_at, due_at, sla_deadline_at\n          `).in(\"id\", ids).order(\"updated_at\", {\n          ascending: false\n        });\n        if (e2) throw e2;\n        setRows(reqs || []);\n        setLoading(false);\n        return;\n      }\n      const {\n        data,\n        error\n      } = await q;\n      if (error) throw error;\n      setRows(data || []);\n    } catch (e) {\n      console.error(e);\n      setErr(\"Kayıtlar çekilemedi.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // --- quick actions ---\n  async function takeOwnership(id) {\n    if (!myEmail) return;\n    const {\n      error\n    } = await supabase.from(\"requests\").update({\n      assignee_email: myEmail,\n      status: \"İnceleme\",\n      updated_at: new Date().toISOString()\n    }).eq(\"id\", id);\n    if (!error) fetchData();\n  }\n  async function markDone(id) {\n    const {\n      error\n    } = await supabase.from(\"requests\").update({\n      status: \"Tamamlandı\",\n      updated_at: new Date().toISOString()\n    }).eq(\"id\", id);\n    if (!error) fetchData();\n  }\n  async function rejectReq(id) {\n    const {\n      error\n    } = await supabase.from(\"requests\").update({\n      status: \"Reddedildi\",\n      updated_at: new Date().toISOString()\n    }).eq(\"id\", id);\n    if (!error) fetchData();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inbox\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"inbox-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Gelen Kutusu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tabs\",\n        children: TABS.map(t => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab ${tab === t.key ? \"active\" : \"\"}`,\n          onClick: () => setTab(t.key),\n          children: t.label\n        }, t.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search\",\n          placeholder: \"Talep no / ba\\u015Fl\\u0131k / ki\\u015Fi\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert error\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"skeleton\",\n        children: \"Y\\xFCkleniyor\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }, this), !loading && rows.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty\",\n        children: \"Kay\\u0131t bulunamad\\u0131.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 51\n      }, this), rows.map(r => /*#__PURE__*/_jsxDEV(Row, {\n        row: r,\n        me: myEmail,\n        onTake: () => takeOwnership(r.id),\n        onDone: () => markDone(r.id),\n        onReject: () => rejectReq(r.id)\n      }, r.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n_s(Inbox, \"trloIyY5Kf+KfQeIf3EFw49r5Ak=\");\n_c = Inbox;\nfunction Row({\n  row,\n  me,\n  onTake,\n  onDone,\n  onReject\n}) {\n  const priorityColor = {\n    P1: \"p1\",\n    P2: \"p2\",\n    P3: \"p3\"\n  }[row.priority] || \"p3\";\n  const isMine = row.assignee_email && row.assignee_email === me;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"meta\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `prio ${priorityColor}`,\n        children: row.priority || \"P3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `status s-${(row.status || \"Yeni\").toLowerCase()}`,\n        children: row.status || \"Yeni\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: [\"#\", row.id, \" \\u2014 \", row.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sub\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u0130steyen: \", row.requester_email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" \\xB7 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Atanan: \", row.assignee_email || \"—\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" \\xB7 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"G\\xFCncellendi: \", new Date(row.updated_at).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: [!row.assignee_email && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn ghost\",\n        onClick: onTake,\n        children: \"\\xDCstlen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 41\n      }, this), isMine && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: onDone,\n          children: \"Tamamla\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: onReject,\n          children: \"Reddet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn ghost\",\n        children: \"Yorum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn ghost\",\n        children: \"Detay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Row;\nvar _c, _c2;\n$RefreshReg$(_c, \"Inbox\");\n$RefreshReg$(_c2, \"Row\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","supabase","jsxDEV","_jsxDEV","Fragment","_Fragment","TABS","key","label","Inbox","_s","me","JSON","parse","localStorage","getItem","myEmail","email","tab","setTab","loading","setLoading","rows","setRows","err","setErr","fetchData","now","Date","q","from","select","order","ascending","limit","is","eq","in","t24","getTime","toISOString","lt","not","data","approvals","error","ids","map","a","request_id","length","reqs","e2","e","console","takeOwnership","id","update","assignee_email","status","updated_at","markDone","rejectReq","className","children","fileName","_jsxFileName","lineNumber","columnNumber","t","onClick","placeholder","r","Row","row","onTake","onDone","onReject","_c","priorityColor","P1","P2","P3","priority","isMine","toLowerCase","title","requester_email","toLocaleString","_c2","$RefreshReg$"],"sources":["C:/Users/Gorkem.Cadirci/talep-sistemi/src/pages/Inbox.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport supabase from \"../supabaseClient\";\r\nimport \"./Inbox.css\";\r\n\r\nconst TABS = [\r\n    { key: \"incoming\", label: \"Gelen (Atanmamış)\" },\r\n    { key: \"assigned\", label: \"Bana Atananlar\" },\r\n    { key: \"approvals\", label: \"Onayımda\" },\r\n    { key: \"sla\", label: \"SLA Riski (<24s)\" },\r\n];\r\n\r\nexport default function Inbox() {\r\n    const me = useMemo(() => {\r\n        try { return JSON.parse(localStorage.getItem(\"user_profile\") || \"{}\"); }\r\n        catch { return {}; }\r\n    }, []);\r\n    const myEmail = me?.email;\r\n\r\n    const [tab, setTab] = useState(\"incoming\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [rows, setRows] = useState([]);\r\n    const [err, setErr] = useState(\"\");\r\n\r\n    useEffect(() => { fetchData(); /* eslint-disable-next-line */ }, [tab]);\r\n\r\n    async function fetchData() {\r\n        if (!myEmail) return;\r\n        setErr(\"\"); setLoading(true);\r\n\r\n        try {\r\n            const now = new Date();\r\n            let q = supabase.from(\"requests\").select(`\r\n        id, title, status, priority, requester_email, assignee_email,\r\n        updated_at, due_at, sla_deadline_at\r\n      `).order(\"updated_at\", { ascending: false }).limit(100);\r\n\r\n            if (tab === \"incoming\") {\r\n                q = q.is(\"assignee_email\", null).eq(\"status\", \"Yeni\");\r\n            } else if (tab === \"assigned\") {\r\n                q = q.eq(\"assignee_email\", myEmail).in(\"status\", [\"İnceleme\", \"Atandı\", \"Çalışılıyor\", \"Beklemede\"]);\r\n            } else if (tab === \"sla\") {\r\n                const t24 = new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString();\r\n                q = q.eq(\"assignee_email\", myEmail).lt(\"sla_deadline_at\", t24).not(\"status\", \"in\", [\"Tamamlandı\", \"Reddedildi\"]);\r\n            } else if (tab === \"approvals\") {\r\n                // onaylar approvals tablosundan\r\n                const { data: approvals, error } = await supabase\r\n                    .from(\"approvals\")\r\n                    .select(\"request_id, decision\")\r\n                    .eq(\"approver_email\", myEmail)\r\n                    .eq(\"decision\", \"pending\")\r\n                    .limit(200);\r\n                if (error) throw error;\r\n                const ids = approvals?.map(a => a.request_id) || [];\r\n                if (ids.length === 0) { setRows([]); setLoading(false); return; }\r\n                const { data: reqs, error: e2 } = await supabase\r\n                    .from(\"requests\").select(`\r\n            id, title, status, priority, requester_email, assignee_email,\r\n            updated_at, due_at, sla_deadline_at\r\n          `).in(\"id\", ids).order(\"updated_at\", { ascending: false });\r\n                if (e2) throw e2;\r\n                setRows(reqs || []); setLoading(false); return;\r\n            }\r\n\r\n            const { data, error } = await q;\r\n            if (error) throw error;\r\n            setRows(data || []);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setErr(\"Kayıtlar çekilemedi.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    // --- quick actions ---\r\n    async function takeOwnership(id) {\r\n        if (!myEmail) return;\r\n        const { error } = await supabase.from(\"requests\").update({\r\n            assignee_email: myEmail, status: \"İnceleme\", updated_at: new Date().toISOString()\r\n        }).eq(\"id\", id);\r\n        if (!error) fetchData();\r\n    }\r\n\r\n    async function markDone(id) {\r\n        const { error } = await supabase.from(\"requests\").update({\r\n            status: \"Tamamlandı\", updated_at: new Date().toISOString()\r\n        }).eq(\"id\", id);\r\n        if (!error) fetchData();\r\n    }\r\n\r\n    async function rejectReq(id) {\r\n        const { error } = await supabase.from(\"requests\").update({\r\n            status: \"Reddedildi\", updated_at: new Date().toISOString()\r\n        }).eq(\"id\", id);\r\n        if (!error) fetchData();\r\n    }\r\n\r\n    return (\r\n        <div className=\"inbox\">\r\n            <header className=\"inbox-top\">\r\n                <h1>Gelen Kutusu</h1>\r\n                <div className=\"tabs\">\r\n                    {TABS.map(t => (\r\n                        <button key={t.key}\r\n                            className={`tab ${tab === t.key ? \"active\" : \"\"}`}\r\n                            onClick={() => setTab(t.key)}\r\n                        >\r\n                            {t.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n                <div className=\"filters\">\r\n                    <input className=\"search\" placeholder=\"Talep no / başlık / kişi…\" />\r\n                </div>\r\n            </header>\r\n\r\n            {err && <div className=\"alert error\">{err}</div>}\r\n\r\n            <div className=\"list\">\r\n                {loading && <div className=\"skeleton\">Yükleniyor…</div>}\r\n                {!loading && rows.length === 0 && <div className=\"empty\">Kayıt bulunamadı.</div>}\r\n\r\n                {rows.map(r => (\r\n                    <Row key={r.id}\r\n                        row={r}\r\n                        me={myEmail}\r\n                        onTake={() => takeOwnership(r.id)}\r\n                        onDone={() => markDone(r.id)}\r\n                        onReject={() => rejectReq(r.id)}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Row({ row, me, onTake, onDone, onReject }) {\r\n    const priorityColor = { P1: \"p1\", P2: \"p2\", P3: \"p3\" }[row.priority] || \"p3\";\r\n    const isMine = row.assignee_email && row.assignee_email === me;\r\n\r\n    return (\r\n        <div className=\"item\">\r\n            <div className=\"meta\">\r\n                <span className={`prio ${priorityColor}`}>{row.priority || \"P3\"}</span>\r\n                <span className={`status s-${(row.status || \"Yeni\").toLowerCase()}`}>{row.status || \"Yeni\"}</span>\r\n            </div>\r\n\r\n            <div className=\"content\">\r\n                <div className=\"title\">#{row.id} — {row.title}</div>\r\n                <div className=\"sub\">\r\n                    <span>İsteyen: {row.requester_email}</span>\r\n                    <span> · </span>\r\n                    <span>Atanan: {row.assignee_email || \"—\"}</span>\r\n                    <span> · </span>\r\n                    <span>Güncellendi: {new Date(row.updated_at).toLocaleString()}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"actions\">\r\n                {!row.assignee_email && <button className=\"btn ghost\" onClick={onTake}>Üstlen</button>}\r\n                {isMine && (\r\n                    <>\r\n                        <button className=\"btn primary\" onClick={onDone}>Tamamla</button>\r\n                        <button className=\"btn danger\" onClick={onReject}>Reddet</button>\r\n                    </>\r\n                )}\r\n                <button className=\"btn ghost\">Yorum</button>\r\n                <button className=\"btn ghost\">Detay</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}